import{g as $t}from"./@babel.d3038ccc.js";import{L as se}from"./@gmod.89422c98.js";import{l as A,k as de,n as Wt,p as Yt,O as Gt,q as Ue,s as ye,v as ge,x as Le,o as F,y as Fe,z as Bt,A as $e,m as Jt,B as We,C as Zt,D as Kt,E as qt,e as Ne,g as Qt,f as Xt,F as er}from"./mobx.82db3864.js";var Ye="warn";function Ge(t){Ye=t}function Be(){return Ye}function tr(t){Ge(t)}var g;(function(t){t.afterCreate="afterCreate",t.afterAttach="afterAttach",t.afterCreationFinalization="afterCreationFinalization",t.beforeDetach="beforeDetach",t.beforeDestroy="beforeDestroy"})(g||(g={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var he=function(t,n){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},he(t,n)};function v(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");he(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var P=function(){return P=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},P.apply(this,arguments)};function rr(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Je(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(p){return s([l,p])}}function s(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(l[0]===6&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=n.call(t,e)}catch(p){l=[6,p],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function re(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a}function x(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(me(arguments[n]));return t}function ee(t){return c(t).type}function nr(t,n){return c(t).getChildType(n)}function Ze(t,n){return c(t).onPatch(n)}function ir(t,n){return c(t).onSnapshot(n)}function $(t,n){c(t).applyPatches(Ie(n))}function ar(t,n){var e={patches:[],reversedInversePatches:[]},r={},i,a={get recording(){return!!i},get patches(){return r.patches||(r.patches=e.patches.slice()),r.patches},get reversedInversePatches(){return r.reversedInversePatches||(r.reversedInversePatches=e.reversedInversePatches.slice()),r.reversedInversePatches},get inversePatches(){return r.inversePatches||(r.inversePatches=e.reversedInversePatches.slice().reverse()),r.inversePatches},stop:function(){i&&(i(),i=void 0)},resume:function(){i||(i=Ze(t,function(o,u){n&&!n(o,u,je())||(e.patches.push(o),e.reversedInversePatches.unshift(u),r.patches=void 0,r.inversePatches=void 0,r.reversedInversePatches=void 0)}))},replay:function(o){$(o||t,e.patches)},undo:function(o){$(o||t,e.reversedInversePatches)}};return a.resume(),a}function or(t){var n=c(t);if(!n.isRoot)throw f("`protect` can only be invoked on root nodes");n.isProtectionEnabled=!0}function ur(t){var n=c(t);if(!n.isRoot)throw f("`unprotect` can only be invoked on root nodes");n.isProtectionEnabled=!1}function lr(t){return c(t).isProtected}function Ke(t,n){return c(t).applySnapshot(n)}function we(t,n){n===void 0&&(n=!0);var e=c(t);return n?e.snapshot:e.type.getSnapshot(e,!1)}function sr(t,n){n===void 0&&(n=1);for(var e=c(t).parent;e;){if(--n===0)return!0;e=e.parent}return!1}function fr(t,n){n===void 0&&(n=1);for(var e=n,r=c(t).parent;r;){if(--e===0)return r.storedValue;r=r.parent}throw f("Failed to find the parent of "+c(t)+" at depth "+n)}function cr(t,n){for(var e=c(t).parent;e;){if(n.is(e.storedValue))return!0;e=e.parent}return!1}function pr(t,n){for(var e=c(t).parent;e;){if(n.is(e.storedValue))return e.storedValue;e=e.parent}throw f("Failed to find the parent of "+c(t)+" of a given type")}function qe(t){return c(t).root.storedValue}function Qe(t){return c(t).path}function br(t){return B(c(t).path)}function dr(t){return c(t).isRoot}function hr(t,n){var e=vt(c(t),n);return e?e.value:void 0}function vr(t,n,e){var r=c(n).root.identifierCache.resolve(t,Z(e));return r==null?void 0:r.value}function Xe(t){return c(t).identifier}function yr(t,n){n===void 0&&(n=!0);try{var e=t();if(e==null)return;if(d(e))return n?Pe(e)?e:void 0:e;throw f("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof Te)return;throw r}}function gr(t,n){n===void 0&&(n=!0);try{var e=t();if(e==null)return!1;if(d(e))return n?Pe(e):!0;throw f("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof Te)return!1;throw r}}function et(t,n){var e=vt(c(t),n,!1);if(e!==void 0)try{return e.value}catch{return}}function mr(t,n){return ht(c(t),c(n))}function wr(t,n){n===void 0&&(n=!0);var e=c(t);return e.type.create(e.snapshot,n===!0?e.root.environment:n===!1?void 0:n)}function Pr(t){return c(t).detach(),t}function Or(t){var n=c(t);n.isRoot?n.die():n.parent.removeChild(n.subpath)}function Pe(t){return c(t).observableIsAlive}function jr(t,n){var e=c(t);return e.addDisposer(n),n}function Sr(t){var n=c(t),e=n.root.environment;return e||k}function tt(t,n){var e=c(t);e.getChildren().forEach(function(r){d(r.storedValue)&&tt(r.storedValue,n)}),n(e.storedValue)}function rt(t){var n;return d(t)?n=ee(t):n=t,{name:n.name,properties:P({},n.properties)}}function _r(t){var n=c(t).type,e=P(P({},rt(n)),{actions:[],volatile:[],views:[]}),r=Object.getOwnPropertyNames(t);return r.forEach(function(i){if(!(i in e.properties)){var a=Object.getOwnPropertyDescriptor(t,i);if(a.get){Kt(t,i)?e.views.push(i):e.volatile.push(i);return}a.value._isMSTAction===!0?e.actions.push(i):qt(t,i)?e.volatile.push(i):e.views.push(i)}}),e}function Ar(t){return t}function Ir(t){return t}function Tr(t){return t}function Cr(t){return c(t).nodeId}var nt=function(){function t(n,e,r,i){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:m.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=i,this.baseSetParent(e,r)}return Object.defineProperty(t.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(n){var e=this.isAlive;this._state=n;var r=this.isAlive;this.aliveAtom&&e!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this._hookSubscribers&&this._hookSubscribers.emit(n,this,n)}}),Object.defineProperty(t.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){return this._hookSubscribers||(this._hookSubscribers=new wt),this._hookSubscribers.register(n,e)}}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(t.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){this._parent=n,this._subpath=e,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n&&(this.pathAtom||(this.pathAtom=Ne("path")),this.pathAtom.reportObserved()),this.parent?(this._escapedSubpath===void 0&&(this._escapedSubpath=this._subpath?V(this._subpath):""),this.parent.getEscapedPath(n)+"/"+this._escapedSubpath):""}}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.parent===null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAlive",{get:function(){return this.state!==m.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDetaching",{get:function(){return this.state===m.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=Ne("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(this.state===m.CREATED){if(this.parent){if(this.parent.state!==m.FINALIZED)return;this.fireHook(g.afterAttach)}this.state=m.FINALIZED,n&&n()}}}),Object.defineProperty(t.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=m.DEAD}}),Object.defineProperty(t.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(g.beforeDestroy)}}),t}(),q=function(t){v(n,t);function n(e,r,i,a,o){var u=t.call(this,e,r,i,a)||this;try{u.storedValue=e.createNewInstance(o)}catch(s){throw u.state=m.DEAD,s}return u.state=m.CREATED,u.finalizeCreation(),u}return Object.defineProperty(n.prototype,"root",{get:function(){if(!this.parent)throw f("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this.parent!==e,a=this.subpath!==r;!i&&!a||(this.environment=void 0,this.baseSetParent(this.parent,r))}}),Object.defineProperty(n.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(n.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(n.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===m.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(n.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(n.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(n.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(n.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),n}(nt);q.prototype.die=A(q.prototype.die);var Er=1,Dr={onError:function(t){throw t}},O=function(t){v(n,t);function n(e,r,i,a,o){var u=t.call(this,e,r,i,a)||this;if(Object.defineProperty(u,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++Er}),Object.defineProperty(u,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(u,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(u,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._snapshotComputed=We(function(){return u.getSnapshot()}),u.unbox=u.unbox.bind(u),u._initialSnapshot=o,u.identifierAttribute=e.identifierAttribute,r||(u.identifierCache=new qr),u._childNodes=e.initializeChildNodes(u,u._initialSnapshot),u.identifier=null,u.unnormalizedIdentifier=null,u.identifierAttribute&&u._initialSnapshot){var s=u._initialSnapshot[u.identifierAttribute];if(s===void 0){var l=u._childNodes[u.identifierAttribute];l&&(s=l.value)}if(typeof s!="string"&&typeof s!="number")throw f("Instance identifier '"+u.identifierAttribute+"' for type '"+u.type.name+"' must be a string or a number");u.identifier=Z(s),u.unnormalizedIdentifier=s}return r?r.root.identifierCache.addNodeToCache(u):u.identifierCache.addNodeToCache(u),u}return Object.defineProperty(n.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(n.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(n.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState===0&&this.createObservableInstance()}}),Object.defineProperty(n.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,r;this._observableInstanceState=1;for(var i=[],a=this.parent;a&&a._observableInstanceState===0;)i.unshift(a),a=a.parent;try{for(var o=re(i),u=o.next();!u.done;u=o.next()){var s=u.value;s.createObservableInstanceIfNeeded()}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}var l=this.type;try{this.storedValue=l.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,l.finalizeNewInstance(this,this.storedValue)}catch(p){throw this.state=m.DEAD,p}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=k,this.state=m.CREATED,this.fireHook(g.afterCreate),this.finalizeCreation()}}),Object.defineProperty(n.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!!this.parent){this.fireHook(g.beforeDetach);var e=this.state;this.state=m.DETACHING;var r=this.root,i=r.environment,a=r.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=i,this.identifierCache=a}finally{this.state=e}}}}),Object.defineProperty(n.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=e!==this.parent,a=r!==this.subpath;!i&&!a||(i?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,r),this.fireHook(g.afterAttach)):a&&this.baseSetParent(this.parent,r))}}),Object.defineProperty(n.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this;this.fireInternalHook(e);var i=this.storedValue&&typeof this.storedValue=="object"&&this.storedValue[e];typeof i=="function"&&(de?de(function(){i.apply(r.storedValue)}):i.apply(this.storedValue))}}),Object.defineProperty(n.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?this._observableInstanceState===2?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(n.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(n.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,r=this._childNodes,i=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(r,i),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(n.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isRunningAction?!0:this.isRoot?!1:this.parent.isRunningAction()}}),Object.defineProperty(n.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=Be();if(!this.isAlive&&r!=="ignore"){var i=this._getAssertAliveError(e);switch(r){case"error":throw f(i);case"warn":fn(i)}}}}),Object.defineProperty(n.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.getEscapedPath(!1)||this.pathUponDeath||"",i=e.subpath&&V(e.subpath)||"",a=e.actionContext||Oe();a&&a.type!=="action"&&a.parentActionEvent&&(a=a.parentActionEvent);var o="";if(a&&a.name!=null){var u=a&&a.context&&Qe(a.context)||r;o=u+"."+a.name+"()"}return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+r+"', Subpath: '"+i+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(n.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return this._observableInstanceState===2?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(n.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(k),this._autoUnbox=!1;try{return this._observableInstanceState===2?this.type.getChildren(this):gt(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(n.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(n.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw f("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(n.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(n.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e)}}),Object.defineProperty(n.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",r=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+r+(this.isAlive?"":" [dead]")}}),Object.defineProperty(n.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation(function(){var r,i;try{for(var a=re(e.getChildren()),o=a.next();!o.done;o=a.next()){var u=o.value;u.finalizeCreation()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}e.fireInternalHook(g.afterCreationFinalization)})}}),Object.defineProperty(n.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw f("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(n.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Q(this.storedValue,"@APPLY_PATCHES",function(r){r.forEach(function(i){if(!i.path){e.type.applySnapshot(e,i.value);return}var a=B(i.path),o=yt(e,a.slice(0,-1));o.applyPatchLocally(a[a.length-1],i)})}),this._applySnapshot=Q(this.storedValue,"@APPLY_SNAPSHOT",function(r){if(r!==e.snapshot)return e.type.applySnapshot(e,r)}),M(this.storedValue,"$treenode",this),M(this.storedValue,"toJSON",Xr)}}),Object.defineProperty(n.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===m.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(n.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState!==0&&(this.getChildren().forEach(function(e){e.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(n.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(r){r.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(n.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(n.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(n.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(n.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(this._internalEventsHasSubscribers("patch")){var i=on({},e,{path:r.path.substr(this.path.length)+"/"+e.path}),a=me(vn(i),2),o=a[0],u=a[1];this._internalEventsEmit("patch",o,u)}this.parent&&this.parent.emitPatch(e,r)}}),Object.defineProperty(n.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(n.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.hasDisposer(e)){this._internalEventsRegister("dispose",e,!0);return}throw f("cannot add a disposer when it is already registered for execution")}}),Object.defineProperty(n.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw f("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(n.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var r=this.middlewares.indexOf(e);r>=0&&this.middlewares.splice(r,1)}}}),Object.defineProperty(n.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this;r===void 0&&(r=!0);var a={handler:e,includeHooks:r};return this.middlewares?this.middlewares.push(a):this.middlewares=[a],function(){i.removeMiddleware(a)}}}),Object.defineProperty(n.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,r)}}),Object.defineProperty(n.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var r=Wt(function(){return e.snapshot},function(i){return e.emitSnapshot(i)},Dr);this.addDisposer(r),this._hasSnapshotReaction=!0}}}),Object.defineProperty(n.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(n.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i){return i===void 0&&(i=!1),this._internalEvents||(this._internalEvents=new wt),this._internalEvents.register(e,r,i)}}),Object.defineProperty(n.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return!!this._internalEvents&&this._internalEvents.has(e,r)}}),Object.defineProperty(n.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){this._internalEvents&&this._internalEvents.unregister(e,r)}}),Object.defineProperty(n.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];this._internalEvents&&(r=this._internalEvents).emit.apply(r,x([e],i))}}),Object.defineProperty(n.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(n.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),n}(nt);O.prototype.createObservableInstance=A(O.prototype.createObservableInstance);O.prototype.detach=A(O.prototype.detach);O.prototype.die=A(O.prototype.die);var it,b;(function(t){t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=4]="Boolean",t[t.Date=8]="Date",t[t.Literal=16]="Literal",t[t.Array=32]="Array",t[t.Map=64]="Map",t[t.Object=128]="Object",t[t.Frozen=256]="Frozen",t[t.Optional=512]="Optional",t[t.Reference=1024]="Reference",t[t.Identifier=2048]="Identifier",t[t.Late=4096]="Late",t[t.Refinement=8192]="Refinement",t[t.Union=16384]="Union",t[t.Null=32768]="Null",t[t.Undefined=65536]="Undefined",t[t.Integer=131072]="Integer",t[t.Custom=262144]="Custom",t[t.SnapshotProcessor=524288]="SnapshotProcessor"})(b||(b={}));var at="cannotDetermine",Nr=Symbol("$type"),D=function(){function t(n){Object.defineProperty(this,it,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n}return Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){return E(this,n),this.instantiate(null,"",e,n).value}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){throw f("unimplemented method")}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n===this}}),Object.defineProperty(t.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=dt(n);if(r){var i=ee(n);return this.isAssignableFrom(i)?j():S(e,n)}return this.isValidSnapshot(n,e)}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.validate(n,[{path:"",type:this}]).length===0}}),Object.defineProperty(t.prototype,"Type",{get:function(){throw f("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TypeWithoutSTN",{get:function(){throw f("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SnapshotType",{get:function(){throw f("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CreationType",{get:function(){throw f("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),t}();it=Nr;D.prototype.create=A(D.prototype.create);var W=function(t){v(n,t);function n(e){var r=t.call(this,e)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return Object.defineProperty(n.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return e===void 0&&(e=this.getDefaultSnapshot()),t.prototype.create.call(this,e,r)}}),Object.defineProperty(n.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(n.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return!e.identifierAttribute||e.identifier===Z(r[e.identifierAttribute])}}),Object.defineProperty(n.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return e.isDetaching?!1:e.snapshot===r||d(r)&&c(r)===e?!0:e.type===this&&mt(r)&&!d(r)&&this.isMatchingSnapshotId(e,r)?(e.applySnapshot(r),!0):!1}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=this.tryToReconcileNode(e,r);if(o)return e.setParent(i,a),e;if(e.die(),d(r)&&this.isAssignableFrom(ee(r))){var u=c(r);return u.setParent(i,a),u}return this.instantiate(i,a,void 0,r)}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),n}(D);W.prototype.create=A(W.prototype.create);var J=function(t){v(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(n.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){if(!e.isDetaching&&e.type===this&&e.storedValue===r)return e;var o=this.instantiate(i,a,void 0,r);return e.die(),o}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),n}(D);function w(t){return typeof t=="object"&&t&&t.isType===!0}var I=new Map;function Vr(t){return function(e,r,i){switch(e.type){case"action":if(!t.filter||t.filter(e)===!0){var a=t.onStart(e);t.onResume(e,a),I.set(e.id,{call:e,context:a,async:!1});try{var o=r(e);return t.onSuspend(e,a),I.get(e.id).async===!1&&(I.delete(e.id),t.onSuccess(e,a,o)),o}catch(s){throw I.delete(e.id),t.onFail(e,a,s),s}}else return r(e);case"flow_spawn":{var u=I.get(e.rootId);return u.async=!0,r(e)}case"flow_resume":case"flow_resume_error":{var u=I.get(e.rootId);t.onResume(e,u.context);try{return r(e)}finally{t.onSuspend(e,u.context)}}case"flow_throw":{var u=I.get(e.rootId);return I.delete(e.rootId),t.onFail(e,u.context,e.args[0]),r(e)}case"flow_return":{var u=I.get(e.rootId);return I.delete(e.rootId),t.onSuccess(e,u.context,e.args[0]),r(e)}}}}var xr=function(){function t(n,e){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n&&n.onStart(e)}return Object.defineProperty(t.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,n))}}),Object.defineProperty(t.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(t.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(t.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0}),t}();function Rr(t){var n=new WeakMap;return function(r,i){var a=r.parentActionEvent?n.get(r.parentActionEvent):void 0;if(r.type==="action"){var o=P(P({},r),{env:a&&a.call.env,parentCall:a&&a.call}),u=!t.filter||t.filter(o),s=u?t:void 0,l=new xr(s,o);n.set(r,l);var p=void 0;try{p=i(r)}catch(y){throw l.finish(y),y}return l.hasFlowsPending||l.finish(),p}else{if(!a)return i(r);switch(r.type){case"flow_spawn":return a.incFlowsPending(),i(r);case"flow_resume":case"flow_resume_error":return i(r);case"flow_throw":{var h=r.args[0];try{return i(r)}finally{a.decFlowsPending(),a.hasFlowsPending||a.finish(h)}}case"flow_return":try{return i(r)}finally{a.decFlowsPending(),a.hasFlowsPending||a.finish()}}}}}function zr(t,n,e,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if(G(r))return r;if(d(r))return te("[MSTNode: "+ee(r).name+"]");if(typeof r=="function")return te("[function]");if(typeof r=="object"&&!z(r)&&!Ae(r))return te("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(i){return te(""+i)}}function Mr(t,n){return n&&typeof n=="object"&&"$MST_DATE"in n?new Date(n.$MST_DATE):n}function te(t){return{$MST_UNSERIALIZABLE:!0,type:t}}function ot(t,n){de(function(){Ie(n).forEach(function(e){return Hr(t,e)})})}function Hr(t,n){var e=et(t,n.path||"");if(!e)throw f("Invalid action path: "+(n.path||""));var r=c(e);if(n.name==="@APPLY_PATCHES")return $.call(null,e,n.args[0]);if(n.name==="@APPLY_SNAPSHOT")return Ke.call(null,e,n.args[0]);if(typeof e[n.name]!="function")throw f("Action '"+n.name+"' does not exist in '"+r.path+"'");return e[n.name].apply(e,n.args?n.args.map(function(i){return Mr(r,i)}):[])}function kr(t,n){var e=[],r=function(o){var u=n?n(o,je()):!0;u&&e.push(o)},i,a={actions:e,get recording(){return!!i},stop:function(){i&&(i(),i=void 0)},resume:function(){i||(i=ut(t,r))},replay:function(o){ot(o,e)}};return a.resume(),a}function ut(t,n,e){return e===void 0&&(e=!1),ft(t,function(i,a){if(i.type==="action"&&i.id===i.rootId){var o=c(i.context),u={name:i.name,path:ht(c(t),o),args:i.args.map(function(l,p){return zr(o,i.name,p,l)})};if(e){var s=a(i);return n(u),s}else return n(u),a(i)}else return a(i)})}var Ur=1,K;function Oe(){return K}function lt(){return Ur++}function ve(t,n){var e=c(t.context);t.type==="action"&&e.assertAlive({actionContext:t});var r=e._isRunningAction;e._isRunningAction=!0;var i=K;K=t;try{return $r(e,t,n)}finally{K=i,e._isRunningAction=r}}function st(t){if(!!t)return t.type==="action"?t:t.parentActionEvent}function Q(t,n,e){var r=function(){var i=lt(),a=K,o=st(a);return ve({type:"action",name:n,id:i,args:Pt(arguments),context:t,tree:qe(t),rootId:a?a.rootId:i,parentId:a?a.id:0,allParentIds:a?x(a.allParentIds,[a.id]):[],parentEvent:a,parentActionEvent:o},e)};return r._isMSTAction=!0,r}function ft(t,n,e){e===void 0&&(e=!0);var r=c(t);return r.addMiddleWare(n,e)}function Lr(t,n,e){e===void 0&&(e=!0);var r={handler:t,includeHooks:e};return n.$mst_middleware=n.$mst_middleware||[],n.$mst_middleware.push(r),n}var Fr=function(){function t(n,e){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e.$mst_middleware&&this.middlewares.push(e.$mst_middleware);for(var r=n;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.middlewares[this.arrayIndex];if(!!n){var e=n[this.inArrayIndex++];return e||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),t}();function $r(t,n,e){var r=new Fr(t,e);if(r.isEmpty)return A(e).apply(null,n.args);var i=null;function a(o){var u=r.getNextMiddleware(),s=u&&u.handler;if(!s)return A(e).apply(null,o.args);if(!u.includeHooks&&g[o.name])return a(o);function l(h,y){i=a(h),y&&(i=y(i))}function p(h){i=h}return s(o,l,p),i}return a(n)}function je(){for(var t=Oe();t&&t.type!=="action";)t=t.parentActionEvent;return t}function ct(t,n,e){for(var r=typeof n=="number"?n:n.id,i=e?t:t.parentActionEvent;i;){if(i.id===r)return!0;i=i.parentActionEvent}return!1}function Wr(t,n){return ct(t,n,!1)}function Yr(t,n){return ct(t,n,!0)}function Gr(t){try{return JSON.stringify(t)}catch(n){return"<Unserializable: "+n+">"}}function pt(t){return typeof t=="function"?"<function"+(t.name?" "+t.name:"")+">":d(t)?"<"+t+">":"`"+Gr(t)+"`"}function Br(t){return t.length<280?t:t.substring(0,272)+"......"+t.substring(t.length-8)}function Jr(t){var n=t.value,e=t.context[t.context.length-1].type,r=t.context.map(function(u){var s=u.path;return s}).filter(function(u){return u.length>0}).join("/"),i=r.length>0?'at path "/'+r+'" ':"",a=d(n)?"value of type "+c(n).type.name+":":G(n)?"value":"snapshot",o=e&&d(n)&&e.is(c(n).snapshot);return""+i+a+" "+pt(n)+" is not assignable "+(e?"to type: `"+e.name+"`":"")+(t.message?" ("+t.message+")":"")+(e?Vt(e)||G(n)?".":", expected an instance of `"+e.name+"` or a snapshot like `"+e.describe()+"` instead."+(o?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Se(t,n,e){return t.concat([{path:n,type:e}])}function j(){return Y}function S(t,n,e){return[{context:t,value:n,message:e}]}function oe(t){return t.reduce(function(n,e){return n.concat(e)},[])}function E(t,n){cn()&&bt(t,n)}function bt(t,n){var e=t.validate(n,[{path:"",type:t}]);if(e.length>0)throw f(Zr(t,n,e))}function Zr(t,n,e){if(e.length!==0)return"Error while converting "+Br(pt(n))+" to `"+t.name+`\`:

    `+e.map(Jr).join(`
    `)}var Kr=0,qr=function(){function t(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:Kr++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:F.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:F.map()})}return Object.defineProperty(t.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this.lastCacheModificationPerId.get(n);this.lastCacheModificationPerId.set(n,e===void 0?1:e+1)}}),Object.defineProperty(t.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this.lastCacheModificationPerId.get(n)||0;return this.cacheId+"-"+e}}),Object.defineProperty(t.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){if(e===void 0&&(e=!0),n.identifierAttribute){var r=n.identifier;this.cache.has(r)||this.cache.set(r,F.array([],ue));var i=this.cache.get(r);if(i.indexOf(n)!==-1)throw f("Already registered");i.push(n),e&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(t.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this;Le(n.identifierCache.cache).forEach(function(r){return r.forEach(function(i){e.addNodeToCache(i)})})}}),Object.defineProperty(t.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n.identifierAttribute){var e=n.identifier,r=this.cache.get(e);r&&(r.remove(n),r.length||this.cache.delete(e),this.updateLastCacheModificationPerId(n.identifier))}}}),Object.defineProperty(t.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this,r=new t,i=n.path;return er(this.cache).forEach(function(a){for(var o=me(a,2),u=o[0],s=o[1],l=!1,p=s.length-1;p>=0;p--)s[p].path.indexOf(i)===0&&(r.addNodeToCache(s[p],!1),s.splice(p,1),l=!0);l&&e.updateLastCacheModificationPerId(u)}),r}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=this.cache.get(e);return r?r.some(function(i){return n.isAssignableFrom(i.type)}):!1}}),Object.defineProperty(t.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=this.cache.get(e);if(!r)return null;var i=r.filter(function(a){return n.isAssignableFrom(a.type)});switch(i.length){case 0:return null;case 1:return i[0];default:throw f("Cannot resolve a reference to type '"+n.name+"' with id: '"+e+"' unambigously, there are multiple candidates: "+i.map(function(a){return a.path}).join(", "))}}}),t}();function _e(t,n,e,r,i){var a=dt(i);if(a){if(a.parent)throw f("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(n?n.path:"")+"/"+e+"', but it lives already at '"+a.path+"'");return n&&a.setParent(n,e),a}return new O(t,n,e,r,i)}function U(t,n,e,r,i){return new q(t,n,e,r,i)}function Qr(t){return t instanceof q||t instanceof O}var m;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CREATED=1]="CREATED",t[t.FINALIZED=2]="FINALIZED",t[t.DETACHING=3]="DETACHING",t[t.DEAD=4]="DEAD"})(m||(m={}));function d(t){return!!(t&&t.$treenode)}function c(t){if(!d(t))throw f("Value "+t+" is no MST Node");return t.$treenode}function dt(t){return t&&t.$treenode||null}function Xr(){return c(this).snapshot}var en=function(t){return".."};function ht(t,n){if(t.root!==n.root)throw f("Cannot calculate relative path: objects '"+t+"' and '"+n+"' are not part of the same object tree");for(var e=B(t.path),r=B(n.path),i=0;i<e.length&&e[i]===r[i];i++);return e.slice(i).map(en).join("/")+ne(r.slice(i))}function vt(t,n,e){return e===void 0&&(e=!0),yt(t,B(n),e)}function yt(t,n,e){e===void 0&&(e=!0);for(var r=t,i=0;i<n.length;i++){var a=n[i];if(a===".."){if(r=r.parent,r)continue}else{if(a===".")continue;if(r){if(r instanceof q)try{var o=r.value;d(o)&&(r=c(o))}catch(s){if(!e)return;throw s}if(r instanceof O){var u=r.getChildType(a);if(u&&(r=r.getChildNode(a),r))continue}}}if(e)throw f("Could not resolve '"+a+"' in path '"+(ne(n.slice(0,i))||"/")+"' while resolving '"+ne(n)+"'");return}return r}function gt(t){if(!t)return Y;var n=Object.keys(t);if(!n.length)return Y;var e=new Array(n.length);return n.forEach(function(r,i){e[i]=t[r]}),e}function tn(t){return Ot(t)}var rn=Object.toString(),Y=Object.freeze([]),k=Object.freeze({}),ue=Yt().useProxies?{deep:!1}:{deep:!1,proxy:!1};Object.freeze(ue);function f(t){return t===void 0&&(t="Illegal state"),new Error("[mobx-state-tree] "+t)}function nn(t){return t}var an=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function Ae(t){return Array.isArray(t)||Qt(t)}function Ie(t){return t?Ae(t)?t:[t]:Y}function on(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r++){var i=n[r];for(var a in i)t[a]=i[a]}return t}function z(t){var n;if(t===null||typeof t!="object")return!1;var e=Object.getPrototypeOf(t);return e==null?!0:((n=e.constructor)===null||n===void 0?void 0:n.toString())===rn}function mt(t){return t!==null&&typeof t=="object"&&!(t instanceof Date)&&!(t instanceof RegExp)}function G(t,n){return n===void 0&&(n=!0),t==null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||n&&t instanceof Date}function un(t){return typeof t!="function"}function ln(t,n,e){Xt(t)?$e(t,n,e):Object.defineProperty(t,n,e)}function M(t,n,e){ln(t,n,{enumerable:!1,writable:!1,configurable:!0,value:e})}var sn=function(){function t(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(t.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=this;return e===void 0&&(e=!1),e?this.handlers.unshift(n):this.handlers.push(n),function(){r.unregister(n)}}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.handlers.indexOf(n)>=0}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this.handlers.indexOf(n);e>=0&&this.handlers.splice(e,1)}}),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(t.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=this.handlers.slice();r.forEach(function(i){return i.apply(void 0,x(n))})}}),t}(),wt=function(){function t(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=this.eventHandlers&&this.eventHandlers[n];return!!e&&e.hasSubscribers}}),Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e,r){r===void 0&&(r=!1),this.eventHandlers||(this.eventHandlers={});var i=this.eventHandlers[n];return i||(i=this.eventHandlers[n]=new sn),i.register(e,r)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=this.eventHandlers&&this.eventHandlers[n];return!!r&&r.has(e)}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var r=this.eventHandlers&&this.eventHandlers[n];r&&r.unregister(e)}}),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.eventHandlers&&delete this.eventHandlers[n]}}),Object.defineProperty(t.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(t.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(n){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this.eventHandlers&&this.eventHandlers[n];a&&(e=a).emit.apply(e,x(r))}}),t}();function Pt(t){for(var n=new Array(t.length),e=0;e<t.length;e++)n[e]=t[e];return n}function fe(t,n){return t.indexOf(n)===0}function fn(t){console.warn(new Error("[mobx-state-tree] "+t))}function cn(){return typeof se<"u"&&se.env&&se.env.ENABLE_TYPE_CHECK==="true"}function ce(t){typeof queueMicrotask=="function"?queueMicrotask(t):typeof setImmediate=="function"?setImmediate(t):setTimeout(t,1)}function Ot(t){return hn(t.name,t)}function pn(t){return t}function bn(t){return function(){var n,e=[];for(n=0;n<arguments.length;n++)e[n]=arguments[n];return Je(this,function(r){switch(r.label){case 0:return[4,t.apply(void 0,x(e))];case 1:return[2,r.sent()]}})}}function dn(t){return Je(this,function(n){switch(n.label){case 0:return[4,t];case 1:return[2,n.sent()]}})}function hn(t,n){var e=function(){var i=lt(),a=Oe();if(!a)throw f("a mst flow must always have a parent context");var o=st(a);if(!o)throw f("a mst flow must always have a parent action context");var u={name:t,id:i,tree:a.tree,context:a.context,parentId:a.id,allParentIds:x(a.allParentIds,[a.id]),rootId:a.rootId,parentEvent:a,parentActionEvent:o},s=arguments;function l(p,h,y){p.$mst_middleware=e.$mst_middleware,ve(P(P({},u),{type:h,args:[y]}),p)}return new Promise(function(p,h){var y,T=function(){y=n.apply(null,arguments),Ee(void 0)};T.$mst_middleware=e.$mst_middleware,ve(P(P({},u),{type:"flow_spawn",args:Pt(s)}),T);function Ee(_){var R;try{l(function(C){R=y.next(C)},"flow_resume",_)}catch(C){ce(function(){l(function(Ft){h(C)},"flow_throw",C)});return}De(R)}function Lt(_){var R;try{l(function(C){R=y.throw(C)},"flow_resume_error",_)}catch(C){ce(function(){l(function(Ft){h(C)},"flow_throw",C)});return}De(R)}function De(_){if(_.done){ce(function(){l(function(R){p(R)},"flow_return",_.value)});return}if(!_.value||typeof _.value.then!="function")throw f("Only promises can be yielded to `async`, got: "+_);return _.value.then(Ee,Lt)}})};return e}function vn(t){if(!("oldValue"in t))throw f("Patches without `oldValue` field cannot be inversed");return[yn(t),gn(t)]}function yn(t){switch(t.op){case"add":return{op:"add",path:t.path,value:t.value};case"remove":return{op:"remove",path:t.path};case"replace":return{op:"replace",path:t.path,value:t.value}}}function gn(t){switch(t.op){case"add":return{op:"remove",path:t.path};case"remove":return{op:"add",path:t.path,value:t.oldValue};case"replace":return{op:"replace",path:t.path,value:t.oldValue}}}function mn(t){return typeof t=="number"}function V(t){return mn(t)===!0?""+t:t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function jt(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function ne(t){if(t.length===0)return"";var n=function(e){return e.map(V).join("/")};return t[0]==="."||t[0]===".."?n(t):"/"+n(t)}function B(t){var n=t.split("/").map(jt),e=t===""||t==="."||t===".."||fe(t,"/")||fe(t,"./")||fe(t,"../");if(!e)throw f("a json path must be either rooted, empty or relative, but got '"+t+"'");return n[0]===""&&n.shift(),n}var pe=Symbol("$preProcessorFailed"),wn=function(t){v(n,t);function n(e,r,i){var a=t.call(this,i||e.name)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),a}return Object.defineProperty(n.prototype,"flags",{get:function(){return this._subtype.flags|b.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(n.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(n.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch{return pe}}}),Object.defineProperty(n.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(n.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this;Pn(e.type,this,"create");var i=e.getSnapshot;e.getSnapshot=function(){return r.postProcessSnapshot(i.call(e))},Rt(this._subtype)||(e.getReconciliationType=function(){return r})}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=d(a)?a:this.preProcessSnapshot(a),u=this._subtype.instantiate(e,r,i,o);return this._fixNode(u),u}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=this._subtype.reconcile(e,d(r)?r:this.preProcessSnapshot(r),i,a);return o!==e&&this._fixNode(o),o}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){r===void 0&&(r=!0);var i=this._subtype.getSnapshot(e);return r?this.postProcessSnapshot(i):i}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this.preProcessSnapshotSafe(e);return i===pe?S(r,e,"Failed to preprocess value"):this._subtype.validate(i,r)}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(n.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=w(e)?this._subtype:d(e)?we(e,!1):this.preProcessSnapshotSafe(e);return r===pe?!1:this._subtype.validate(r,[{path:"",type:this._subtype}]).length===0}}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(n.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!(this._subtype instanceof W))return!1;var i=this.preProcessSnapshot(r);return this._subtype.isMatchingSnapshotId(e,i)}}),n}(D);function Pn(t,n){for(var e,r,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];try{for(var o=re(i),u=o.next();!u.done;u=o.next()){var s=u.value;t[s]=n[s].bind(n)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}function On(t,n,e){return new wn(t,n,e)}var Ve="Map.put can only be used to store complex values that have an identifier type attribute";function St(t,n){var e,r,i=t.getSubTypes();if(i===at)return!1;if(i){var a=Ie(i);try{for(var o=re(a),u=o.next();!u.done;u=o.next()){var s=u.value;if(!St(s,n))return!1}}catch(l){e={error:l}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}return t instanceof X&&n.push(t),!0}var N;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO"})(N||(N={}));var jn=function(t){v(n,t);function n(e){return t.call(this,e,F.ref.enhancer)||this}return Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return t.prototype.get.call(this,""+e)}}),Object.defineProperty(n.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return t.prototype.has.call(this,""+e)}}),Object.defineProperty(n.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return t.prototype.delete.call(this,""+e)}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return t.prototype.set.call(this,""+e,r)}}),Object.defineProperty(n.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw f("Map.put cannot be used to set empty values");if(d(e)){var r=c(e);if(r.identifier===null)throw f(Ve);return this.set(r.identifier,e),e}else if(mt(e)){var i=c(this),a=i.type;if(a.identifierMode!==N.YES)throw f(Ve);var o=a.mapIdentifierAttribute,u=e[o];if(!Ce(u)){var s=this.put(a.getChildType().create(e,i.environment));return this.put(we(s))}var l=Z(u);return this.set(l,e),this.get(l)}else throw f("Map.put can only be used to store complex values")}}),n}(Gt),ie=function(t){v(n,t);function n(e,r,i){i===void 0&&(i=[]);var a=t.call(this,e)||this;return Object.defineProperty(a,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:N.UNKNOWN}),Object.defineProperty(a,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Map}),Object.defineProperty(a,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),a._determineIdentifierMode(),a.hookInitializers=i,a}return Object.defineProperty(n.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new n(this.name,this._subType,r)}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this._determineIdentifierMode(),_e(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===N.UNKNOWN){var e=[];if(St(this._subType,e)){var r=e.reduce(function(i,a){if(!a.identifierAttribute)return i;if(i&&i!==a.identifierAttribute)throw f("The objects in a map should all have the same identifier attribute, expected '"+i+"', but child of type '"+a.name+"' declared attribute '"+a.identifierAttribute+"' as identifier");return a.identifierAttribute},void 0);r?(this.identifierMode=N.YES,this.mapIdentifierAttribute=r):this.identifierMode=N.NO}}}}),Object.defineProperty(n.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){r===void 0&&(r={});var i=e.type._subType,a={};return Object.keys(r).forEach(function(o){a[o]=i.instantiate(e,o,void 0,r[o])}),a}}),Object.defineProperty(n.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new jn(e)}}),Object.defineProperty(n.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){Ue(r,e.unbox);var i=e.type;i.hookInitializers.forEach(function(a){var o=a(r);Object.keys(o).forEach(function(u){var s=o[u],l=Q(r,u,s);M(r,u,l)})}),ye(r,this.willChange),ge(r,this.didChange)}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(n.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Le(e.storedValue)}}),Object.defineProperty(n.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=e.storedValue.get(""+r);if(!i)throw f("Not a child "+r);return i}}),Object.defineProperty(n.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=c(e.object),i=e.name;r.assertWritable({subpath:i});var a=r.type,o=a._subType;switch(e.type){case"update":{var u=e.newValue,s=e.object.get(i);if(u===s)return null;E(o,u),e.newValue=o.reconcile(r.getChildNode(i),e.newValue,r,i),a.processIdentifier(i,e.newValue)}break;case"add":E(o,e.newValue),e.newValue=o.instantiate(r,i,void 0,e.newValue),a.processIdentifier(i,e.newValue);break}return e}}),Object.defineProperty(n.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(this.identifierMode===N.YES&&r instanceof O){var i=r.identifier;if(i!==e)throw f("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+i+"', but expected: '"+e+"'")}}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r={};return e.getChildren().forEach(function(i){r[i.subpath]=i.snapshot}),r}}),Object.defineProperty(n.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r={};return Object.keys(e).forEach(function(i){r[i]=e[i].getSnapshot()}),r}}),Object.defineProperty(n.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=c(e.object);switch(e.type){case"update":return void r.emitPatch({op:"replace",path:V(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},r);case"add":return void r.emitPatch({op:"add",path:V(e.name),value:e.newValue.snapshot,oldValue:void 0},r);case"delete":var i=e.oldValue.snapshot;return e.oldValue.die(),void r.emitPatch({op:"remove",path:V(e.name),oldValue:i},r)}}}),Object.defineProperty(n.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i){var a=e.storedValue;switch(i.op){case"add":case"replace":a.set(r,i.value);break;case"remove":a.delete(r);break}}}),Object.defineProperty(n.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){E(this,r);var i=e.storedValue,a={};if(Array.from(i.keys()).forEach(function(u){a[u]=!1}),r)for(var o in r)i.set(o,r[o]),a[""+o]=!0;Object.keys(a).forEach(function(u){a[u]===!1&&i.delete(u)})}}),Object.defineProperty(n.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this;return z(e)?oe(Object.keys(e).map(function(a){return i._subType.validate(e[a],Se(r,a,i._subType))})):S(r,e,"Value is not a plain object")}}),Object.defineProperty(n.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return k}}),Object.defineProperty(n.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){e.storedValue.delete(r)}}),n}(W);ie.prototype.applySnapshot=A(ie.prototype.applySnapshot);function Sn(t){return new ie("map<string, "+t.name+">",t)}function _n(t){return w(t)&&(t.flags&b.Map)>0}var ae=function(t){v(n,t);function n(e,r,i){i===void 0&&(i=[]);var a=t.call(this,e)||this;return Object.defineProperty(a,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Array}),Object.defineProperty(a,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),a.hookInitializers=i,a}return Object.defineProperty(n.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new n(this.name,this._subType,r)}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return _e(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){r===void 0&&(r=[]);var i=e.type._subType,a={};return r.forEach(function(o,u){var s=""+u;a[s]=i.instantiate(e,s,void 0,o)}),a}}),Object.defineProperty(n.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return F.array(gt(e),ue)}}),Object.defineProperty(n.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){Fe(r).dehancer=e.unbox;var i=e.type;i.hookInitializers.forEach(function(a){var o=a(r);Object.keys(o).forEach(function(u){var s=o[u],l=Q(r,u,s);M(r,u,l)})}),ye(r,this.willChange),ge(r,this.didChange)}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(n.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(n.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=Number(r);if(i<e.storedValue.length)return e.storedValue[i];throw f("Not a child: "+r)}}),Object.defineProperty(n.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=c(e.object);r.assertWritable({subpath:""+e.index});var i=r.type._subType,a=r.getChildren();switch(e.type){case"update":{if(e.newValue===e.object[e.index])return null;var o=xe(r,i,[a[e.index]],[e.newValue],[e.index]);if(!o)return null;e.newValue=o[0]}break;case"splice":{var u=e.index,s=e.removedCount,l=e.added,p=xe(r,i,a.slice(u,u+s),l,l.map(function(y,T){return u+T}));if(!p)return null;e.added=p;for(var h=u+s;h<a.length;h++)a[h].setParent(r,""+(h+l.length-s))}break}return e}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map(function(r){return r.snapshot})}}),Object.defineProperty(n.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=[];return Object.keys(e).forEach(function(i){r.push(e[i].getSnapshot())}),r}}),Object.defineProperty(n.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=c(e.object);switch(e.type){case"update":return void r.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},r);case"splice":for(var i=e.removedCount-1;i>=0;i--)r.emitPatch({op:"remove",path:""+(e.index+i),oldValue:e.removed[i].snapshot},r);for(var i=0;i<e.addedCount;i++)r.emitPatch({op:"add",path:""+(e.index+i),value:r.getChildNode(""+(e.index+i)).snapshot,oldValue:void 0},r);return}}}),Object.defineProperty(n.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i){var a=e.storedValue,o=r==="-"?a.length:Number(r);switch(i.op){case"replace":a[o]=i.value;break;case"add":a.splice(o,0,i.value);break;case"remove":a.splice(o,1);break}}}),Object.defineProperty(n.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){E(this,r);var i=e.storedValue;i.replace(r)}}),Object.defineProperty(n.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this;return Ae(e)?oe(e.map(function(a,o){return i._subType.validate(a,Se(r,""+o,i._subType))})):S(r,e,"Value is not an array")}}),Object.defineProperty(n.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Y}}),Object.defineProperty(n.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){e.storedValue.splice(Number(r),1)}}),n}(W);ae.prototype.applySnapshot=A(ae.prototype.applySnapshot);function An(t){return new ae(t.name+"[]",t)}function xe(t,n,e,r,i){for(var a=!0,o=0;;o++){var u=o<=r.length-1,s=e[o],l=u?r[o]:void 0,p=""+i[o];if(Qr(l)&&(l=l.storedValue),!s&&!u)break;if(!u)a=!1,e.splice(o,1),s instanceof O&&s.createObservableInstanceIfNeeded(),s.die(),o--;else if(s)if(Re(s,l))e[o]=be(n,t,p,l,s);else{for(var y=void 0,T=o;T<e.length;T++)if(Re(e[T],l)){y=e.splice(T,1)[0];break}a=!1;var h=be(n,t,p,l,y);e.splice(o,0,h)}else{if(d(l)&&c(l).parent===t)throw f("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+t.path+"/"+p+"', but it lives already at '"+c(l).path+"'");a=!1;var h=be(n,t,p,l);e.splice(o,0,h)}}return a?null:e}function be(t,n,e,r,i){E(t,r);function a(){if(d(r)){var u=c(r);if(u.assertAlive(k),u.parent!==null&&u.parent===n)return u.setParent(n,e),u}return i?t.reconcile(i,r,n,e):t.instantiate(n,e,void 0,r)}var o=a();return i&&i!==o&&(i instanceof O&&i.createObservableInstanceIfNeeded(),i.die()),o}function Re(t,n){if(!t.isAlive)return!1;if(d(n)){var e=c(n);return e.isAlive&&e===t}if(t.snapshot===n)return!0;if(!(t instanceof O))return!1;var r=t.getReconciliationType();return t.identifier!==null&&t.identifierAttribute&&z(n)&&r.is(n)&&r.isMatchingSnapshotId(t,n)}function In(t){return w(t)&&(t.flags&b.Array)>0}var ze="preProcessSnapshot",Me="postProcessSnapshot";function Tn(){return c(this).toString()}var He={name:"AnonymousModel",properties:{},initializers:Y};function Cn(t){return Object.keys(t).reduce(function(n,e){var r,i,a;if(e in g)throw f("Hook '"+e+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(n,e);if("get"in o)throw f("Getters are not supported as properties. Please use views instead");var u=o.value;if(u==null)throw f("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(G(u))return Object.assign({},n,(r={},r[e]=H(Vn(u),u),r));if(u instanceof ie)return Object.assign({},n,(i={},i[e]=H(u,{}),i));if(u instanceof ae)return Object.assign({},n,(a={},a[e]=H(u,[]),a));if(w(u))return n;throw f("Invalid type definition for property '"+e+"', cannot infer a type from a value like '"+u+"' ("+typeof u+")")},t)}var X=function(t){v(n,t);function n(e){var r=t.call(this,e.name||He.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return r.cloneAndEnhance({name:i})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return r.cloneAndEnhance({properties:i})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(i){var a=r.preProcessor;return a?r.cloneAndEnhance({preProcessor:function(o){return a(i(o))}}):r.cloneAndEnhance({preProcessor:i})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(i){var a=r.postProcessor;return a?r.cloneAndEnhance({postProcessor:function(o){return i(a(o))}}):r.cloneAndEnhance({postProcessor:i})}}),Object.assign(r,He,e),r.properties=Cn(r.properties),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return Object.defineProperty(n.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps(function(r,i){if(i.flags&b.Identifier){if(e)throw f("Cannot define property '"+r+"' as object identifier, property '"+e+"' is already defined as identifier property");e=r}}),e}}),Object.defineProperty(n.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new n({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(n.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this,i=function(a){return r.instantiateActions(a,e(a)),a};return this.cloneAndEnhance({initializers:[i]})}}),Object.defineProperty(n.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!z(r))throw f("actions initializer should return a plain object containing actions");Object.keys(r).forEach(function(i){if(i===ze)throw f("Cannot define action '"+ze+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(i===Me)throw f("Cannot define action '"+Me+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var a=r[i],o=e[i];if(i in g&&o){var u=a;a=function(){o.apply(null,arguments),u.apply(null,arguments)}}var s=a.$mst_middleware,l=a.bind(r);l.$mst_middleware=s;var p=Q(e,i,l);r[i]=p,M(e,i,p)})}}),Object.defineProperty(n.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this;if(typeof e!="function")throw f("You passed an "+typeof e+" to volatile state as an argument, when function is expected");var i=function(a){return r.instantiateVolatileState(a,e(a)),a};return this.cloneAndEnhance({initializers:[i]})}}),Object.defineProperty(n.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!z(r))throw f("volatile state initializer should return a plain object containing state");Bt(e,r)}}),Object.defineProperty(n.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this,i=function(a){var o=e(a),u=o.actions,s=o.views,l=o.state,p=rr(o,["actions","views","state"]);for(var h in p)throw f("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+h+"'");return l&&r.instantiateVolatileState(a,l),s&&r.instantiateViews(a,s),u&&r.instantiateActions(a,u),a};return this.cloneAndEnhance({initializers:[i]})}}),Object.defineProperty(n.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this,i=function(a){return r.instantiateViews(a,e(a)),a};return this.cloneAndEnhance({initializers:[i]})}}),Object.defineProperty(n.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!z(r))throw f("views initializer should return a plain object containing views");Object.getOwnPropertyNames(r).forEach(function(i){var a,o=Object.getOwnPropertyDescriptor(r,i);if("get"in o)$e(e,i,o),Jt(e,(a={},a[i]=We,a));else if(typeof o.value=="function")M(e,i,o.value);else throw f("A view member should either be a function or getter based property")})}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=d(a)?a:this.applySnapshotPreProcessor(a);return _e(this,e,r,i,o)}}),Object.defineProperty(n.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){r===void 0&&(r={});var i=e.type,a={};return i.forAllProps(function(o,u){a[o]=u.instantiate(e,o,void 0,r[o])}),a}}),Object.defineProperty(n.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return F.object(e,k,ue)}}),Object.defineProperty(n.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){M(r,"toString",Tn),this.forAllProps(function(i){Ue(r,i,e.unbox)}),this.initializers.reduce(function(i,a){return a(i)},r),ye(r,this.willChange),ge(r,this.didChange)}}),Object.defineProperty(n.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=e,i=c(r.object),a=r.name;i.assertWritable({subpath:a});var o=i.type.properties[a];return o&&(E(o,r.newValue),r.newValue=o.reconcile(i.getChildNode(a),r.newValue,i,a)),r}}),Object.defineProperty(n.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=e,i=c(r.object),a=i.type.properties[r.name];if(!!a){var o=r.oldValue?r.oldValue.snapshot:void 0;i.emitPatch({op:"replace",path:V(r.name),value:r.newValue.snapshot,oldValue:o},i)}}}),Object.defineProperty(n.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this,i=[];return this.forAllProps(function(a){i.push(r.getChildNode(e,a))}),i}}),Object.defineProperty(n.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!(r in this.properties))throw f("Not a value property: "+r);var i=Fe(e.storedValue,r),a=i.raw();if(!a)throw f("Node not available for property "+r);return a}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this;r===void 0&&(r=!0);var a={};return this.forAllProps(function(o,u){Zt(e.storedValue,o).reportObserved(),a[o]=i.getChildNode(e,o).snapshot}),r?this.applySnapshotPostProcessor(a):a}}),Object.defineProperty(n.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r={};return Object.keys(e).forEach(function(i){r[i]=e[i].getSnapshot()}),this.applySnapshotPostProcessor(r)}}),Object.defineProperty(n.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i){if(!(i.op==="replace"||i.op==="add"))throw f("object does not support operation "+i.op);e.storedValue[r]=i.value}}),Object.defineProperty(n.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this.applySnapshotPreProcessor(r);E(this,i),this.forAllProps(function(a){e.storedValue[a]=i[a]})}}),Object.defineProperty(n.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.preProcessor;return r?r.call(null,e):e}}),Object.defineProperty(n.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.postProcessor;return r?r.call(null,e):e}}),Object.defineProperty(n.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.properties[e]}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this,a=this.applySnapshotPreProcessor(e);return z(a)?oe(this.propertyNames.map(function(o){return i.properties[o].validate(a[o],Se(r,o,i.properties[o]))})):S(r,a,"Value is not a plain object")}}),Object.defineProperty(n.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this;this.propertyNames.forEach(function(i){return e(i,r.properties[i])})}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map(function(r){return r+": "+e.properties[r].describe()}).join("; ")+" }"}}),Object.defineProperty(n.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return k}}),Object.defineProperty(n.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){e.storedValue[r]=void 0}}),n}(W);X.prototype.applySnapshot=A(X.prototype.applySnapshot);function En(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=typeof t[0]=="string"?t.shift():"AnonymousModel",r=t.shift()||{};return new X({name:e,properties:r})}function Dn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=typeof t[0]=="string",r=e?t[0]:"AnonymousModel";return e&&t.shift(),t.reduce(function(i,a){return i.cloneAndEnhance({name:i.name+"_"+a.name,properties:a.properties,initializers:a.initializers,preProcessor:function(o){return a.applySnapshotPreProcessor(i.applySnapshotPreProcessor(o))},postProcessor:function(o){return a.applySnapshotPostProcessor(i.applySnapshotPostProcessor(o))}})}).named(r)}function _t(t){return w(t)&&(t.flags&b.Object)>0}var L=function(t){v(n,t);function n(e,r,i,a){a===void 0&&(a=nn);var o=t.call(this,e)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:a}),o.flags=r,o}return Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return U(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(G(e)&&this.checker(e))return j();var i=this.name==="Date"?"Date or a unix milliseconds timestamp":this.name;return S(r,e,"Value is not a "+i)}}),n}(J),At=new L("string",b.String,function(t){return typeof t=="string"}),It=new L("number",b.Number,function(t){return typeof t=="number"}),Nn=new L("integer",b.Integer,function(t){return an(t)}),Tt=new L("boolean",b.Boolean,function(t){return typeof t=="boolean"}),Ct=new L("null",b.Null,function(t){return t===null}),Et=new L("undefined",b.Undefined,function(t){return t===void 0}),Dt=new L("Date",b.Date,function(t){return typeof t=="number"||t instanceof Date},function(t){return t instanceof Date?t:new Date(t)});Dt.getSnapshot=function(t){return t.storedValue.getTime()};var Nt=Dt;function Vn(t){switch(typeof t){case"string":return At;case"number":return It;case"boolean":return Tt;case"object":if(t instanceof Date)return Nt}throw f("Cannot determine primitive type from value "+t)}function Vt(t){return w(t)&&(t.flags&(b.String|b.Number|b.Integer|b.Boolean|b.Date))>0}var xn=function(t){v(n,t);function n(e){var r=t.call(this,JSON.stringify(e))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Literal}),r.value=e,r}return Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return U(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return G(e)&&e===this.value?j():S(r,e,"Value is not a literal "+JSON.stringify(this.value))}}),n}(J);function xt(t){return new xn(t)}function Rn(t){return w(t)&&(t.flags&b.Literal)>0}var zn=function(t){v(n,t);function n(e,r,i,a){var o=t.call(this,e)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:a}),o}return Object.defineProperty(n.prototype,"flags",{get:function(){return this._subtype.flags|b.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this._subtype.instantiate(e,r,i,a)}}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this._subtype.validate(e,r);if(i.length>0)return i;var a=d(e)?c(e).snapshot:e;return this._predicate(a)?j():S(r,e,this._message(e))}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this._subtype.reconcile(e,r,i,a)}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),n}(D);function Mn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=typeof t[0]=="string"?t.shift():w(t[0])?t[0].name:null,r=t[0],i=t[1],a=t[2]?t[2]:function(o){return"Value does not respect the refinement predicate"};return new zn(e,r,i,a)}function Hn(t){return(t.flags&b.Refinement)>0}function kn(t,n){var e=typeof t=="string"?n:t,r=le.apply(void 0,x(e.map(function(i){return xt(""+i)})));return typeof t=="string"&&(r.name=t),r}var Un=function(t){v(n,t);function n(e,r,i){var a=t.call(this,e)||this;return Object.defineProperty(a,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),i=P({eager:!0,dispatcher:void 0},i),a._dispatcher=i.dispatcher,i.eager||(a._eager=!1),a}return Object.defineProperty(n.prototype,"flags",{get:function(){var e=b.Union;return this._types.forEach(function(r){e|=r.flags}),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some(function(r){return r.isAssignableFrom(e)})}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(e){return e.describe()}).join(" | ")+")"}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=this.determineType(a,void 0);if(!o)throw f("No matching type for union "+this.describe());return o.instantiate(e,r,i,a)}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=this.determineType(r,e.getReconciliationType());if(!o)throw f("No matching type for union "+this.describe());return o.reconcile(e,r,i,a)}}),Object.defineProperty(n.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return this._dispatcher?this._dispatcher(e):r?r.is(e)?r:this._types.filter(function(i){return i!==r}).find(function(i){return i.is(e)}):this._types.find(function(i){return i.is(e)})}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(this._dispatcher)return this._dispatcher(e).validate(e,r);for(var i=[],a=0,o=0;o<this._types.length;o++){var u=this._types[o],s=u.validate(e,r);if(s.length===0){if(this._eager)return j();a++}else i.push(s)}return a===1?j():S(r,e,"No type is applicable for the union").concat(oe(i))}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),n}(D);function le(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=w(t)?void 0:t,i=w(t)?x([t],n):n,a="("+i.map(function(o){return o.name}).join(" | ")+")";return new Un(a,i,r)}function Rt(t){return(t.flags&b.Union)>0}var Ln=function(t){v(n,t);function n(e,r,i){var a=t.call(this,e.name)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return Object.defineProperty(n.prototype,"flags",{get:function(){return this._subtype.flags|b.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){if(this.optionalValues.indexOf(a)>=0){var o=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,r,i,o)}return this._subtype.instantiate(e,r,i,a)}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this._subtype.reconcile(e,this.optionalValues.indexOf(r)<0&&this._subtype.is(r)?r:this.getDefaultInstanceOrSnapshot(),i,a)}}),Object.defineProperty(n.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=typeof this._defaultValue=="function"?this._defaultValue():this._defaultValue;return typeof this._defaultValue=="function"&&E(this,e),e}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return this.optionalValues.indexOf(e)>=0?j():this._subtype.validate(e,r)}}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),n}(D);function Fn(t,n){if(typeof n!="function"&&d(n))throw f("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}function H(t,n,e){return Fn(t,n),new Ln(t,n,e||$n)}var $n=[void 0];function Wn(t){return w(t)&&(t.flags&b.Optional)>0}var Yn=H(Et,void 0),Gn=H(Ct,null);function zt(t){return le(t,Yn)}function Bn(t){return le(t,Gn)}var Jn=function(t){v(n,t);function n(e,r){var i=t.call(this,e)||this;return Object.defineProperty(i,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i}return Object.defineProperty(n.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|b.Late},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var r=void 0;try{r=this._definition()}catch(i){if(i instanceof ReferenceError)r=void 0;else throw i}if(e&&r===void 0)throw f("Late type seems to be used too early, the definition (still) returns undefined");r&&(this._subType=r)}return this._subType}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this.getSubType(!0).instantiate(e,r,i,a)}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return this.getSubType(!0).reconcile(e,r,i,a)}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this.getSubType(!1);return i?i.validate(e,r):j()}}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.getSubType(!1);return r?r.isAssignableFrom(e):!1}}),Object.defineProperty(n.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e||at}}),n}(D);function Zn(t,n){var e=typeof t=="string"?t:"late("+t.toString()+")",r=typeof t=="string"?n:t;return new Jn(e,r)}function Kn(t){return w(t)&&(t.flags&b.Late)>0}var Mt=function(t){v(n,t);function n(e){var r=t.call(this,e?"frozen("+e.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Frozen}),r}return Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){return U(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return un(e)?this.subType?this.subType.validate(e,r):j():S(r,e,"Value is not serializable and cannot be frozen")}}),n}(J),ke=new Mt;function qn(t){return arguments.length===0?ke:w(t)?new Mt(t):H(ke,t)}function Qn(t){return w(t)&&(t.flags&b.Frozen)>0}function Xn(t){switch(t){case g.beforeDestroy:return"destroy";case g.beforeDetach:return"detach";default:return}}var ei=function(){function t(n,e){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ce(n))this.identifier=n;else if(d(n)){var r=c(n);if(!r.identifierAttribute)throw f("Can only store references with a defined identifier attribute.");var i=r.unnormalizedIdentifier;if(i==null)throw f("Can only store references to tree nodes with a defined identifier.");this.identifier=i}else throw f("Can only store references to tree nodes or identifiers, got: '"+n+"'")}return Object.defineProperty(t.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var e=Z(this.identifier),r=n.root,i=r.identifierCache.getLastCacheModificationPerId(e);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==i){var a=this.targetType,o=r.identifierCache.resolve(a,e);if(!o)throw new Te("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+n.path+")");this.resolvedReference={node:o,lastCacheModification:i}}}}),Object.defineProperty(t.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),t}(),Te=function(t){v(n,t);function n(e){var r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return n}(Error),Ht=function(t){v(n,t);function n(e,r){var i=t.call(this,"reference("+e.name+")")||this;return Object.defineProperty(i,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Reference}),i}return Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(n.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return Ce(e)?j():S(r,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(n.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=r.parent;if(!(!o||!o.isAlive)){var u=o.storedValue;!u||this.onInvalidated({cause:e,parent:u,invalidTarget:a?a.storedValue:void 0,invalidId:i,replaceRef:function(s){$(r.root.storedValue,{op:"replace",value:s,path:r.path})},removeRef:function(){_t(o.type)?this.replaceRef(void 0):$(r.root.storedValue,{op:"remove",path:r.path})}})}}}),Object.defineProperty(n.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var i=this,a=this.getValue(e);if(!!a){var o=c(a),u=function(p,h){var y=Xn(h);!y||i.fireInvalidated(y,e,r,o)},s=o.registerHook(g.beforeDetach,u),l=o.registerHook(g.beforeDestroy,u);return function(){s(),l()}}}}),Object.defineProperty(n.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i){var a=this;if(!!this.onInvalidated){var o;e.registerHook(g.beforeDestroy,function(){o&&o()});var u=function(s){o&&o();var l=e.parent,p=l&&l.storedValue;if(l&&l.isAlive&&p){var h=void 0;i?h=!!i.get(r,p):h=e.root.identifierCache.has(a.targetType,Z(r)),h?o=a.addTargetNodeWatcher(e,r):s||a.fireInvalidated("invalidSnapshotReference",e,r,null)}};e.state===m.FINALIZED?u(!0):(e.isRoot||e.root.registerHook(g.afterCreationFinalization,function(){e.parent&&e.parent.createObservableInstanceIfNeeded()}),e.registerHook(g.afterAttach,function(){u(!1)}))}}}),n}(J),ti=function(t){v(n,t);function n(e,r){return t.call(this,e,r)||this}return Object.defineProperty(n.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!!e.isAlive){var r=e.storedValue;return r.resolvedValue}}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=e.storedValue;return r.identifier}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=d(a)?Xe(a):a,u=new ei(a,this.targetType),s=U(this,e,r,i,u);return u.node=s,this.watchTargetNodeForInvalidations(s,o,void 0),s}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){if(!e.isDetaching&&e.type===this){var o=d(r),u=e.storedValue;if(!o&&u.identifier===r||o&&u.resolvedValue===r)return e.setParent(i,a),e}var s=this.instantiate(i,a,void 0,r);return e.die(),s}}),n}(Ht),ri=function(t){v(n,t);function n(e,r,i){var a=t.call(this,e,i)||this;return Object.defineProperty(a,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),a}return Object.defineProperty(n.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!!e.isAlive){var r=this.options.get(e.storedValue,e.parent?e.parent.storedValue:null);return r}}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=d(a)?this.options.set(a,e?e.storedValue:null):a,u=U(this,e,r,i,o);return this.watchTargetNodeForInvalidations(u,o,this.options),u}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=d(r)?this.options.set(r,e?e.storedValue:null):r;if(!e.isDetaching&&e.type===this&&e.storedValue===o)return e.setParent(i,a),e;var u=this.instantiate(i,a,void 0,o);return e.die(),u}}),n}(Ht);function kt(t,n){var e=n||void 0,r=n?n.onInvalidated:void 0;return e&&(e.get||e.set)?new ri(t,{get:e.get,set:e.set},r):new ti(t,r)}function ni(t){return(t.flags&b.Reference)>0}function ii(t,n){var e=kt(t,P(P({},n),{onInvalidated:function(r){n&&n.onInvalidated&&n.onInvalidated(r),r.removeRef()}}));return n&&n.acceptsUndefined===!1?e:zt(e)}var Ut=function(t){v(n,t);function n(e,r){var i=t.call(this,e)||this;return Object.defineProperty(i,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Identifier}),i}return Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){if(!e||!(e.type instanceof X))throw f("Identifier types can only be instantiated as direct child of a model type");return U(this,e,r,i,a)}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){if(e.storedValue!==r)throw f("Tried to change identifier from '"+e.storedValue+"' to '"+r+"'. Changing identifiers is not allowed.");return e.setParent(i,a),e}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){return typeof e!==this.validType?S(r,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):j()}}),n}(J),ai=function(t){v(n,t);function n(){var e=t.call(this,"identifier","string")||this;return Object.defineProperty(e,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Identifier}),e}return Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),n}(Ut),oi=function(t){v(n,t);function n(){return t.call(this,"identifierNumber","number")||this}return Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),n}(Ut),ui=new ai,li=new oi;function si(t){return w(t)&&(t.flags&b.Identifier)>0}function Z(t){return""+t}function Ce(t){return typeof t=="string"||typeof t=="number"}function fi(t){return new ci(t)}var ci=function(t){v(n,t);function n(e){var r=t.call(this,e.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:b.Custom}),r}return Object.defineProperty(n.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(n.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(this.options.isTargetType(e))return j();var i=this.options.getValidationMessage(e);return i?S(r,e,"Invalid value for type '"+this.name+"': "+i):j()}}),Object.defineProperty(n.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(n.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=this.options.isTargetType(a)?a:this.options.fromSnapshot(a,e&&e.root.environment);return U(this,e,r,i,o)}}),Object.defineProperty(n.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,i,a){var o=!this.options.isTargetType(r);if(!e.isDetaching){var u=e.type===this&&(o?r===e.snapshot:r===e.storedValue);if(u)return e.setParent(i,a),e}var s=o?this.options.fromSnapshot(r,i.root.environment):r,l=this.instantiate(i,a,void 0,s);return e.die(),l}}),n}(J),pi={enumeration:kn,model:En,compose:Dn,custom:fi,reference:kt,safeReference:ii,union:le,optional:H,literal:xt,maybe:zt,maybeNull:Bn,refinement:Mn,string:At,boolean:Tt,number:It,integer:Nn,Date:Nt,map:Sn,array:An,frozen:qn,identifier:ui,identifierNumber:li,late:Zn,undefined:Et,null:Ct,snapshotProcessor:On};const bi=Object.freeze(Object.defineProperty({__proto__:null,addDisposer:jr,addMiddleware:ft,applyAction:ot,applyPatch:$,applySnapshot:Ke,cast:Ar,castFlowReturn:pn,castToReferenceSnapshot:Tr,castToSnapshot:Ir,clone:wr,createActionTrackingMiddleware:Vr,createActionTrackingMiddleware2:Rr,decorate:Lr,destroy:Or,detach:Pr,escapeJsonPath:V,flow:Ot,getChildType:nr,getEnv:Sr,getIdentifier:Xe,getLivelinessChecking:Be,getMembers:_r,getNodeId:Cr,getParent:fr,getParentOfType:pr,getPath:Qe,getPathParts:br,getPropertyMembers:rt,getRelativePath:mr,getRoot:qe,getRunningActionContext:je,getSnapshot:we,getType:ee,hasParent:sr,hasParentOfType:cr,isActionContextChildOf:Wr,isActionContextThisOrChildOf:Yr,isAlive:Pe,isArrayType:In,isFrozenType:Qn,isIdentifierType:si,isLateType:Kn,isLiteralType:Rn,isMapType:_n,isModelType:_t,isOptionalType:Wn,isPrimitiveType:Vt,isProtected:lr,isReferenceType:ni,isRefinementType:Hn,isRoot:dr,isStateTreeNode:d,isType:w,isUnionType:Rt,isValidReference:gr,joinJsonPath:ne,onAction:ut,onPatch:Ze,onSnapshot:ir,process:tn,protect:or,recordActions:kr,recordPatches:ar,resolveIdentifier:vr,resolvePath:hr,setLivelinessChecking:Ge,setLivelynessChecking:tr,splitJsonPath:B,toGenerator:dn,toGeneratorFunction:bn,tryReference:yr,tryResolve:et,typecheck:bt,types:pi,unescapeJsonPath:jt,unprotect:ur,walk:tt},Symbol.toStringTag,{value:"Module"})),yi=$t(bi);export{jr as a,fr as b,Ar as c,vr as d,qe as e,we as f,Sr as g,d as h,Pe as i,ee as j,_t as k,_r as l,ni as m,rt as n,Ze as o,yi as r,pi as t,tt as w};
