import{g as zt}from"./@babel.d3038ccc.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lt=function(n,e){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},lt(n,e)};function c(n,e){lt(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function B(n){return typeof n=="function"}var Nt=!1,T={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){var e=new Error;""+e.stack}Nt=n},get useDeprecatedSynchronousErrorHandling(){return Nt}};function M(n){setTimeout(function(){throw n},0)}var it={closed:!0,next:function(n){},error:function(n){if(T.useDeprecatedSynchronousErrorHandling)throw n;M(n)},complete:function(){}},g=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();function wt(n){return n!==null&&typeof n=="object"}var Ie=function(){function n(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,r){return r+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n}(),G=Ie,v=function(){function n(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return n.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,r=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof n)r.remove(this);else if(r!==null)for(var u=0;u<r.length;++u){var a=r[u];a.remove(this)}if(B(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(p){e=p instanceof G?Vt(p.errors):[p]}}if(g(s))for(var u=-1,h=s.length;++u<h;){var l=s[u];if(wt(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof G?e=e.concat(Vt(d.errors)):e.push(d)}}if(e)throw new G(e)}},n.prototype.add=function(e){var t=e;if(!e)return n.EMPTY;switch(typeof e){case"function":t=new n(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof n)){var r=t;t=new n,t._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof n){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},n.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);r!==-1&&t.splice(r,1)}},n.EMPTY=function(e){return e.closed=!0,e}(new n),n}();function Vt(n){return n.reduce(function(e,t){return e.concat(t instanceof G?t.errors:t)},[])}var ot=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),f=function(n){c(e,n);function e(t,r,i){var o=n.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=it;break;case 1:if(!t){o.destination=it;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new At(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new At(o,t,r,i);break}return o}return e.prototype[ot]=function(){return this},e.create=function(t,r,i){var o=new e(t,r,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(v),At=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._parentSubscriber=t;var u,a=s;return B(r)?u=r:r&&(u=r.next,i=r.error,o=r.complete,r!==it&&(a=Object.create(r),B(a.unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=u,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!T.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(r,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,i=T.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(r,this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=t,r.syncErrorThrown=!0):M(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;M(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!T.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(i){if(this.unsubscribe(),T.useDeprecatedSynchronousErrorHandling)throw i;M(i)}},e.prototype.__tryOrSetError=function(t,r,i){if(!T.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(o){return T.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(M(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);function St(n){for(;n;){var e=n,t=e.closed,r=e.destination,i=e.isStopped;if(t||i)return!1;r&&r instanceof f?n=r:n=null}return!0}function Ne(n,e,t){if(n){if(n instanceof f)return n;if(n[ot])return n[ot]()}return!n&&!e&&!t?new f(it):new f(n,e,t)}var q=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function A(n){return n}function pt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ut(n)}function Ut(n){return n.length===0?A:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var b=function(){function n(e){this._isScalar=!1,e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this.operator,o=Ne(e,t,r);if(i?o.add(i.call(o,this.source)):o.add(this.source||T.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),T.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){T.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),St(e)?e.error(t):console.warn(t)}},n.prototype.forEach=function(e,t){var r=this;return t=kt(t),new t(function(i,o){var s;s=r.subscribe(function(u){try{e(u)}catch(a){o(a),s&&s.unsubscribe()}},o,i)})},n.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},n.prototype[q]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:Ut(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=kt(e),new e(function(r,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},n.create=function(e){return new n(e)},n}();function kt(n){if(n||(n=T.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var Ve=function(){function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n}(),V=Ve,Lt=function(n){c(e,n);function e(t,r){var i=n.call(this)||this;return i.subject=t,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,!(!r||r.length===0||t.isStopped||t.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(v),qt=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.destination=t,r}return e}(f),S=function(n){c(e,n);function e(){var t=n.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[ot]=function(){return new qt(this)},e.prototype.lift=function(t){var r=new jt(this,this);return r.operator=t,r},e.prototype.next=function(t){if(this.closed)throw new V;if(!this.isStopped)for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new V;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new V;this.isStopped=!0;for(var t=this.observers,r=t.length,i=t.slice(),o=0;o<r;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new V;return n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new V;return this.hasError?(t.error(this.thrownError),v.EMPTY):this.isStopped?(t.complete(),v.EMPTY):(this.observers.push(t),new Lt(this,t))},e.prototype.asObservable=function(){var t=new b;return t.source=this,t},e.create=function(t,r){return new jt(t,r)},e}(b),jt=function(n){c(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},e.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var r=this.source;return r?this.source.subscribe(t):v.EMPTY},e}(S);function gt(){return function(e){return e.lift(new Ae(e))}}var Ae=function(){function n(e){this.connectable=e}return n.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var i=new ke(e,r),o=t.subscribe(i);return i.closed||(i.connection=r.connect()),o},n}(),ke=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.connectable=r,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var r=t._refCount;if(r<=0){this.connection=null;return}if(t._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(f),Yt=function(n){c(e,n);function e(t,r){var i=n.call(this)||this;return i.source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new v,t.add(this.source.subscribe(new We(this.getSubject(),this))),t.closed&&(this._connection=null,t=v.EMPTY)),t},e.prototype.refCount=function(){return gt()(this)},e}(b),je=function(){var n=Yt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}}(),We=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.connectable=r,i}return e.prototype._error=function(t){this._unsubscribe(),n.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var r=t._connection;t._refCount=0,t._subject=null,t._connection=null,r&&r.unsubscribe()}},e}(qt);function Fe(n,e,t,r){return function(i){return i.lift(new Pe(n,e,t,r))}}var Pe=function(){function n(e,t,r,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=i}return n.prototype.call=function(e,t){return t.subscribe(new Re(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},n}(),Re=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;return u.keySelector=r,u.elementSelector=i,u.durationSelector=o,u.subjectSelector=s,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return e.prototype._next=function(t){var r;try{r=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,r)},e.prototype._group=function(t,r){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(r),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(h){this.error(h)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new S,i.set(r,o);var u=new bt(r,o,this);if(this.destination.next(u),this.durationSelector){var a=void 0;try{a=this.durationSelector(new bt(r,o))}catch(h){this.error(h);return}this.add(a.subscribe(new De(r,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var r=this.groups;r&&(r.forEach(function(i,o){i.error(t)}),r.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(r,i){r.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&n.prototype.unsubscribe.call(this))},e}(f),De=function(n){c(e,n);function e(t,r,i){var o=n.call(this,r)||this;return o.key=t,o.group=r,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,r=t.parent,i=t.key;this.key=this.parent=null,r&&r.removeGroup(i)},e}(f),bt=function(n){c(e,n);function e(t,r,i){var o=n.call(this)||this;return o.key=t,o.groupSubject=r,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var r=new v,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&r.add(new Me(o)),r.add(s.subscribe(t)),r},e}(b),Me=function(n){c(e,n);function e(t){var r=n.call(this)||this;return r.parent=t,t.count++,r}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(n.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(v),$t=function(n){c(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new V;return this._value},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(S),Be=function(n){c(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(v),Q=function(n){c(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,r=this.scheduler,i=r.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null},e}(Be),ze=function(n){c(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.schedule=function(t,r){return r===void 0&&(r=0),r>0?n.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,r){return r>0||this.closed?n.prototype.execute.call(this,t,r):this._execute(t,r)},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?n.prototype.requestAsyncId.call(this,t,r,i):t.flush(this)},e}(Q),dt=function(){function n(e,t){t===void 0&&(t=n.now),this.SchedulerAction=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},n.now=function(){return Date.now()},n}(),J=function(n){c(e,n);function e(t,r){r===void 0&&(r=dt.now);var i=n.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,r,i):n.prototype.schedule.call(this,t,r,i)},e.prototype.flush=function(t){var r=this.actions;if(this.active){r.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this.active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(dt),Ue=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(J),Gt=new Ue(ze),Ht=Gt,z=new b(function(n){return n.complete()});function Y(n){return n?Le(n):z}function Le(n){return new b(function(e){return n.schedule(function(){return e.complete()})})}function _(n){return n&&typeof n.schedule=="function"}var Kt=function(n){return function(e){for(var t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()}};function xt(n,e){return new b(function(t){var r=new v,i=0;return r.add(e.schedule(function(){if(i===n.length){t.complete();return}t.next(n[i++]),t.closed||r.add(this.schedule())})),r})}function X(n,e){return e?xt(n,e):new b(Kt(n))}function ct(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return _(t)?(n.pop(),xt(n,t)):X(n)}function _t(n,e){return e?new b(function(t){return e.schedule(qe,0,{error:n,subscriber:t})}):new b(function(t){return t.error(n)})}function qe(n){var e=n.error,t=n.subscriber;t.error(e)}var vt;vt||(vt={});var C=function(){function n(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}return n.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},n.prototype.do=function(e,t,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},n.prototype.accept=function(e,t,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,r)},n.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ct(this.value);case"E":return _t(this.error);case"C":return Y()}throw new Error("unexpected notification kind value")},n.createNext=function(e){return typeof e<"u"?new n("N",e):n.undefinedValueNotification},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}();function Ye(n,e){return e===void 0&&(e=0),function(r){return r.lift(new $e(n,e))}}var $e=function(){function n(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return n.prototype.call=function(e,t){return t.subscribe(new Zt(e,this.scheduler,this.delay))},n}(),Zt=function(n){c(e,n);function e(t,r,i){i===void 0&&(i=0);var o=n.call(this,t)||this;return o.scheduler=r,o.delay=i,o}return e.dispatch=function(t){var r=t.notification,i=t.destination;r.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var r=this.destination;r.add(this.scheduler.schedule(e.dispatch,this.delay,new Ge(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(C.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(C.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(C.createComplete()),this.unsubscribe()},e}(f),Ge=function(){function n(e,t){this.notification=e,this.destination=t}return n}(),Tt=function(n){c(e,n);function e(t,r,i){t===void 0&&(t=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=n.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift()}n.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new He(this._getNow(),t)),this._trimBufferThenGetEvents()),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,u;if(this.closed)throw new V;if(this.isStopped||this.hasError?u=v.EMPTY:(this.observers.push(t),u=new Lt(this,t)),o&&t.add(t=new Zt(t,o)),r)for(var a=0;a<s&&!t.closed;a++)t.next(i[a]);else for(var a=0;a<s&&!t.closed;a++)t.next(i[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u},e.prototype._getNow=function(){return(this.scheduler||Ht).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),r=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,u=0;u<s&&!(t-o[u].time<i);)u++;return s>r&&(u=Math.max(u,s-r)),u>0&&o.splice(0,u),o},e}(S),He=function(){function n(e,t){this.time=e,this.value=t}return n}(),$=function(n){c(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),v.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),v.EMPTY):n.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||n.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&n.prototype.next.call(this,this.value),n.prototype.complete.call(this)},e}(S),Ke=1,Ze=function(){return Promise.resolve()}(),yt={};function Wt(n){return n in yt?(delete yt[n],!0):!1}var Ft={setImmediate:function(n){var e=Ke++;return yt[e]=!0,Ze.then(function(){return Wt(e)&&n()}),e},clearImmediate:function(n){Wt(n)}},Qe=function(n){c(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t.scheduled||(t.scheduled=Ft.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(Ft.clearImmediate(r),t.scheduled=void 0)},e}(Q),Je=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=r.shift()));if(this.active=!1,i){for(;++o<s&&(t=r.shift());)t.unsubscribe();throw i}},e}(J),Qt=new Je(Qe),rt=Qt,Jt=new J(Q),x=Jt,Xe=function(n){c(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(cancelAnimationFrame(r),t.scheduled=void 0)},e}(Q),tn=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=r.shift()));if(this.active=!1,i){for(;++o<s&&(t=r.shift());)t.unsubscribe();throw i}},e}(J),Xt=new tn(Xe),en=Xt,nn=function(n){c(e,n);function e(t,r){t===void 0&&(t=te),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=n.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,r=t.actions,i=t.maxFrames,o,s;(s=r[0])&&s.delay<=i&&(r.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=r.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(J),te=function(n){c(e,n);function e(t,r,i){i===void 0&&(i=t.index+=1);var o=n.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),!this.id)return n.prototype.schedule.call(this,t,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,r)},e.prototype.requestAsyncId=function(t,r,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,r,i){},e.prototype._execute=function(t,r){if(this.active===!0)return n.prototype._execute.call(this,t,r)},e.sortActions=function(t,r){return t.delay===r.delay?t.index===r.index?0:t.index>r.index?1:-1:t.delay>r.delay?1:-1},e}(Q);function E(){}function rn(n){return!!n&&(n instanceof b||typeof n.lift=="function"&&typeof n.subscribe=="function")}var on=function(){function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n}(),U=on,sn=function(){function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n}(),tt=sn,un=function(){function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return n.prototype=Object.create(Error.prototype),n}(),ee=un;function O(n,e){return function(r){if(typeof n!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new cn(n,e))}}var cn=function(){function n(e,t){this.project=e,this.thisArg=t}return n.prototype.call=function(e,t){return t.subscribe(new an(e,this.project,this.thisArg))},n}(),an=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.project=r,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(f);function ne(n,e,t){if(e)if(_(e))t=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ne(n,t).apply(void 0,r).pipe(O(function(o){return g(o)?e.apply(void 0,o):e(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s,u={context:o,subject:s,callbackFunc:n,scheduler:t};return new b(function(a){if(t){var l={args:r,subscriber:a,params:u};return t.schedule(fn,0,l)}else{if(!s){s=new $;var h=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];s.next(p.length<=1?p[0]:p),s.complete()};try{n.apply(o,r.concat([h]))}catch(p){St(s)?s.error(p):console.warn(p)}}return s.subscribe(a)}})}}function fn(n){var e=this,t=n.args,r=n.subscriber,i=n.params,o=i.callbackFunc,s=i.context,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new $;var h=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.length<=1?l[0]:l;e.add(u.schedule(hn,0,{value:d,subject:a}))};try{o.apply(s,t.concat([h]))}catch(l){a.error(l)}}this.add(a.subscribe(r))}function hn(n){var e=n.value,t=n.subject;t.next(e),t.complete()}function re(n,e,t){if(e)if(_(e))t=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return re(n,t).apply(void 0,r).pipe(O(function(o){return g(o)?e.apply(void 0,o):e(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={subject:void 0,args:r,callbackFunc:n,scheduler:t,context:this};return new b(function(s){var u=o.context,a=o.subject;if(t)return t.schedule(ln,0,{params:o,subscriber:s,context:u});if(!a){a=o.subject=new $;var h=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.shift();if(d){a.error(d);return}a.next(l.length<=1?l[0]:l),a.complete()};try{n.apply(u,r.concat([h]))}catch(l){St(a)?a.error(l):console.warn(l)}}return a.subscribe(s)})}}function ln(n){var e=this,t=n.params,r=n.subscriber,i=n.context,o=t.callbackFunc,s=t.args,u=t.scheduler,a=t.subject;if(!a){a=t.subject=new $;var h=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.shift();if(d)e.add(u.schedule(Pt,0,{err:d,subject:a}));else{var W=l.length<=1?l[0]:l;e.add(u.schedule(pn,0,{value:W,subject:a}))}};try{o.apply(i,s.concat([h]))}catch(l){this.add(u.schedule(Pt,0,{err:l,subject:a}))}}this.add(a.subscribe(r))}function pn(n){var e=n.value,t=n.subject;t.next(e),t.complete()}function Pt(n){var e=n.err,t=n.subject;t.error(e)}var R=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,r,i,o,s){this.destination.next(r)},e.prototype.notifyError=function(t,r){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(f),bn=function(n){c(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(f),dn=function(n){return function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,M),e}};function vn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var k=vn(),yn=function(n){return function(e){var t=n[k]();do{var r=void 0;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}},mn=function(n){return function(e){var t=n[q]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}},ie=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function oe(n){return!!n&&typeof n.subscribe!="function"&&typeof n.then=="function"}var H=function(n){if(!!n&&typeof n[q]=="function")return mn(n);if(ie(n))return Kt(n);if(oe(n))return dn(n);if(!!n&&typeof n[k]=="function")return yn(n);var e=wt(n)?"an invalid object":"'"+n+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)};function I(n,e,t,r,i){if(i===void 0&&(i=new bn(n,t,r)),!i.closed)return e instanceof b?e.subscribe(i):H(e)(i)}var Rt={};function wn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=void 0,r=void 0;return _(n[n.length-1])&&(r=n.pop()),typeof n[n.length-1]=="function"&&(t=n.pop()),n.length===1&&g(n[0])&&(n=n[0]),X(n,r).lift(new Ot(t))}var Ot=function(){function n(e){this.resultSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.resultSelector))},n}(),Sn=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(Rt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,r=t.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var o=t[i];this.add(I(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,r,i){var o=this.values,s=o[i],u=this.toRespond?s===Rt?--this.toRespond:this.toRespond:0;o[i]=r,u===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var r;try{r=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(R);function gn(n,e){return new b(function(t){var r=new v;return r.add(e.schedule(function(){var i=n[q]();r.add(i.subscribe({next:function(o){r.add(e.schedule(function(){return t.next(o)}))},error:function(o){r.add(e.schedule(function(){return t.error(o)}))},complete:function(){r.add(e.schedule(function(){return t.complete()}))}}))})),r})}function xn(n,e){return new b(function(t){var r=new v;return r.add(e.schedule(function(){return n.then(function(i){r.add(e.schedule(function(){t.next(i),r.add(e.schedule(function(){return t.complete()}))}))},function(i){r.add(e.schedule(function(){return t.error(i)}))})})),r})}function _n(n,e){if(!n)throw new Error("Iterable cannot be null");return new b(function(t){var r=new v,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=n[k](),r.add(e.schedule(function(){if(!t.closed){var o,s;try{var u=i.next();o=u.value,s=u.done}catch(a){t.error(a);return}s?t.complete():(t.next(o),this.schedule())}}))})),r})}function Tn(n){return n&&typeof n[q]=="function"}function On(n){return n&&typeof n[k]=="function"}function se(n,e){if(n!=null){if(Tn(n))return gn(n,e);if(oe(n))return xn(n,e);if(ie(n))return xt(n,e);if(On(n)||typeof n=="string")return _n(n,e)}throw new TypeError((n!==null&&typeof n||n)+" is not observable")}function N(n,e){return e?se(n,e):n instanceof b?n:new b(H(n))}var y=function(n){c(e,n);function e(t){var r=n.call(this)||this;return r.parent=t,r}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(f),m=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(f);function w(n,e){if(!e.closed){if(n instanceof b)return n.subscribe(e);var t;try{t=H(n)(e)}catch(r){e.error(r)}return t}}function F(n,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(F(function(i,o){return N(n(i,o)).pipe(O(function(s,u){return e(i,s,o,u)}))},t))}:(typeof e=="number"&&(t=e),function(r){return r.lift(new En(n,t))})}var En=function(){function n(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return n.prototype.call=function(e,t){return t.subscribe(new Cn(e,this.project,this.concurrent))},n}(),Cn=function(n){c(e,n);function e(t,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=n.call(this,t)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(t){var r=new y(this),i=this.destination;i.add(r);var o=w(t,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(m),In=F;function Et(n){return n===void 0&&(n=Number.POSITIVE_INFINITY),F(A,n)}function ue(){return Et(1)}function K(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return ue()(ct.apply(void 0,n))}function Ct(n){return new b(function(e){var t;try{t=n()}catch(i){e.error(i);return}var r=t?N(t):Y();return r.subscribe(e)})}function Nn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===1){var t=n[0];if(g(t))return nt(t,null);if(wt(t)&&Object.getPrototypeOf(t)===Object.prototype){var r=Object.keys(t);return nt(r.map(function(o){return t[o]}),r)}}if(typeof n[n.length-1]=="function"){var i=n.pop();return n=n.length===1&&g(n[0])?n[0]:n,nt(n,null).pipe(O(function(o){return i.apply(void 0,o)}))}return nt(n,null)}function nt(n,e){return new b(function(t){var r=n.length;if(r===0){t.complete();return}for(var i=new Array(r),o=0,s=0,u=function(h){var l=N(n[h]),p=!1;t.add(l.subscribe({next:function(d){p||(p=!0,s++),i[h]=d},error:function(d){return t.error(d)},complete:function(){o++,(o===r||!p)&&(s===r&&t.next(e?e.reduce(function(d,W,D){return d[W]=i[D],d},{}):i),t.complete())}}))},a=0;a<r;a++)u(a)})}function ce(n,e,t,r){return B(t)&&(r=t,t=void 0),r?ce(n,e,t).pipe(O(function(i){return g(i)?r.apply(void 0,i):r(i)})):new b(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}ae(n,e,o,i,t)})}function ae(n,e,t,r,i){var o;if(kn(n)){var s=n;n.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(An(n)){var u=n;n.on(e,t),o=function(){return u.off(e,t)}}else if(Vn(n)){var a=n;n.addListener(e,t),o=function(){return a.removeListener(e,t)}}else if(n&&n.length)for(var h=0,l=n.length;h<l;h++)ae(n[h],e,t,r,i);else throw new TypeError("Invalid event target");r.add(o)}function Vn(n){return n&&typeof n.addListener=="function"&&typeof n.removeListener=="function"}function An(n){return n&&typeof n.on=="function"&&typeof n.off=="function"}function kn(n){return n&&typeof n.addEventListener=="function"&&typeof n.removeEventListener=="function"}function fe(n,e,t){return t?fe(n,e).pipe(O(function(r){return g(r)?t.apply(void 0,r):t(r)})):new b(function(r){var i=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return r.next(s.length===1?s[0]:s)},o;try{o=n(i)}catch(s){r.error(s);return}if(!!B(e))return function(){return e(i,o)}})}function jn(n,e,t,r,i){var o,s;if(arguments.length==1){var u=n;s=u.initialState,e=u.condition,t=u.iterate,o=u.resultSelector||A,i=u.scheduler}else r===void 0||_(r)?(s=n,o=A,i=r):(s=n,o=r);return new b(function(a){var h=s;if(i)return i.schedule(Wn,0,{subscriber:a,iterate:t,condition:e,resultSelector:o,state:h});do{if(e){var l=void 0;try{l=e(h)}catch(d){a.error(d);return}if(!l){a.complete();break}}var p=void 0;try{p=o(h)}catch(d){a.error(d);return}if(a.next(p),a.closed)break;try{h=t(h)}catch(d){a.error(d);return}}while(!0)})}function Wn(n){var e=n.subscriber,t=n.condition;if(!e.closed){if(n.needIterate)try{n.state=n.iterate(n.state)}catch(o){e.error(o);return}else n.needIterate=!0;if(t){var r=void 0;try{r=t(n.state)}catch(o){e.error(o);return}if(!r){e.complete();return}if(e.closed)return}var i;try{i=n.resultSelector(n.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(n)}}function Fn(n,e,t){return e===void 0&&(e=z),t===void 0&&(t=z),Ct(function(){return n()?e:t})}function L(n){return!g(n)&&n-parseFloat(n)+1>=0}function Pn(n,e){return n===void 0&&(n=0),e===void 0&&(e=x),(!L(n)||n<0)&&(n=0),(!e||typeof e.schedule!="function")&&(e=x),new b(function(t){return t.add(e.schedule(Rn,n,{subscriber:t,counter:0,period:n})),t})}function Rn(n){var e=n.subscriber,t=n.counter,r=n.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:r},r)}function he(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Number.POSITIVE_INFINITY,r=null,i=n[n.length-1];return _(i)?(r=n.pop(),n.length>1&&typeof n[n.length-1]=="number"&&(t=n.pop())):typeof i=="number"&&(t=n.pop()),r===null&&n.length===1&&n[0]instanceof b?n[0]:Et(t)(X(n,r))}var le=new b(E);function Dn(){return le}function mt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return z;var t=n[0],r=n.slice(1);return n.length===1&&g(t)?mt.apply(void 0,t):new b(function(i){var o=function(){return i.add(mt.apply(void 0,r).subscribe(i))};return N(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Mn(n,e){return e?new b(function(t){var r=Object.keys(n),i=new v;return i.add(e.schedule(Bn,0,{keys:r,index:0,subscriber:t,subscription:i,obj:n})),i}):new b(function(t){for(var r=Object.keys(n),i=0;i<r.length&&!t.closed;i++){var o=r[i];n.hasOwnProperty(o)&&t.next([o,n[o]])}t.complete()})}function Bn(n){var e=n.keys,t=n.index,r=n.subscriber,i=n.subscription,o=n.obj;if(!r.closed)if(t<e.length){var s=e[t];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function pe(n,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=n,t.thisArg=e,t}function j(n,e){return function(r){return r.lift(new zn(n,e))}}var zn=function(){function n(e,t){this.predicate=e,this.thisArg=t}return n.prototype.call=function(e,t){return t.subscribe(new Un(e,this.predicate,this.thisArg))},n}(),Un=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(t)},e}(f);function Ln(n,e,t){return[j(e,t)(new b(H(n))),j(pe(e,t))(new b(H(n)))]}function be(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===1)if(g(n[0]))n=n[0];else return n[0];return X(n,void 0).lift(new qn)}var qn=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new Yn(e))},n}(),Yn=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,r=t.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var o=t[i],s=I(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(r)},e}(R);function $n(n,e,t){return n===void 0&&(n=0),new b(function(r){e===void 0&&(e=n,n=0);var i=0,o=n;if(t)return t.schedule(Gn,0,{index:i,count:e,start:n,subscriber:r});do{if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}while(!0)})}function Gn(n){var e=n.start,t=n.index,r=n.count,i=n.subscriber;if(t>=r){i.complete();return}i.next(e),!i.closed&&(n.index=t+1,n.start=e+1,this.schedule(n))}function de(n,e,t){n===void 0&&(n=0);var r=-1;return L(e)?r=Number(e)<1&&1||Number(e):_(e)&&(t=e),_(t)||(t=x),new b(function(i){var o=L(n)?n:+n-t.now();return t.schedule(Hn,o,{index:0,period:r,subscriber:i})})}function Hn(n){var e=n.index,t=n.period,r=n.subscriber;if(r.next(e),!r.closed){if(t===-1)return r.complete();n.index=e+1,this.schedule(n,t)}}function Kn(n,e){return new b(function(t){var r;try{r=n()}catch(u){t.error(u);return}var i;try{i=e(r)}catch(u){t.error(u);return}var o=i?N(i):z,s=o.subscribe(t);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}function ve(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return typeof t=="function"&&n.pop(),X(n,void 0).lift(new ye(t))}var ye=function(){function n(e){this.resultSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new Zn(e,this.resultSelector))},n}(),Zn=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.resultSelector=r,o.iterators=[],o.active=0,o.resultSelector=typeof r=="function"?r:void 0,o}return e.prototype._next=function(t){var r=this.iterators;g(t)?r.push(new Jn(t)):typeof t[k]=="function"?r.push(new Qn(t[k]())):r.push(new Xn(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,r=t.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,r=t.length,i=this.destination,o=0;o<r;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var u=!1,a=[],o=0;o<r;o++){var s=t[o],h=s.next();if(s.hasCompleted()&&(u=!0),h.done){i.complete();return}a.push(h.value)}this.resultSelector?this._tryresultSelector(a):i.next(a),u&&i.complete()},e.prototype._tryresultSelector=function(t){var r;try{r=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(f),Qn=function(){function n(e){this.iterator=e,this.nextResult=e.next()}return n.prototype.hasValue=function(){return!0},n.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},n.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},n}(),Jn=function(){function n(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return n.prototype[k]=function(){return this},n.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},n.prototype.hasValue=function(){return this.array.length>this.index},n.prototype.hasCompleted=function(){return this.array.length===this.index},n}(),Xn=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[k]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return w(this.observable,new y(this))},e}(m);const tr=Object.freeze(Object.defineProperty({__proto__:null,Observable:b,ConnectableObservable:Yt,GroupedObservable:bt,observable:q,Subject:S,BehaviorSubject:$t,ReplaySubject:Tt,AsyncSubject:$,asap:rt,asapScheduler:Qt,async:x,asyncScheduler:Jt,queue:Ht,queueScheduler:Gt,animationFrame:en,animationFrameScheduler:Xt,VirtualTimeScheduler:nn,VirtualAction:te,Scheduler:dt,Subscription:v,Subscriber:f,Notification:C,get NotificationKind(){return vt},pipe:pt,noop:E,identity:A,isObservable:rn,ArgumentOutOfRangeError:U,EmptyError:tt,ObjectUnsubscribedError:V,UnsubscriptionError:G,TimeoutError:ee,bindCallback:ne,bindNodeCallback:re,combineLatest:wn,concat:K,defer:Ct,empty:Y,forkJoin:Nn,from:N,fromEvent:ce,fromEventPattern:fe,generate:jn,iif:Fn,interval:Pn,merge:he,never:Dn,of:ct,onErrorResumeNext:mt,pairs:Mn,partition:Ln,race:be,range:$n,throwError:_t,timer:de,using:Kn,zip:ve,scheduled:se,EMPTY:z,NEVER:le,config:T},Symbol.toStringTag,{value:"Module"})),su=zt(tr);function me(n){return function(t){return t.lift(new er(n))}}var er=function(){function n(e){this.durationSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new nr(e,this.durationSelector))},n}(),nr=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(t)}catch(s){return this.destination.error(s)}var o=w(r,new y(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,r=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(m);function rr(n,e){return e===void 0&&(e=x),me(function(){return de(n,e)})}function ir(n){return function(t){return t.lift(new or(n))}}var or=function(){function n(e){this.closingNotifier=e}return n.prototype.call=function(e,t){return t.subscribe(new sr(e,this.closingNotifier))},n}(),sr=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.buffer=[],i.add(w(r,new y(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(m);function ur(n,e){return e===void 0&&(e=null),function(r){return r.lift(new cr(n,e))}}var cr=function(){function n(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=ar:this.subscriberClass=fr}return n.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},n}(),ar=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.bufferSize=r,i.buffer=[],i}return e.prototype._next=function(t){var r=this.buffer;r.push(t),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),n.prototype._complete.call(this)},e}(f),fr=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.bufferSize=r,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var r=this,i=r.bufferSize,o=r.startBufferEvery,s=r.buffers,u=r.count;this.count++,u%o===0&&s.push([]);for(var a=s.length;a--;){var h=s[a];h.push(t),h.length===i&&(s.splice(a,1),this.destination.next(h))}},e.prototype._complete=function(){for(var t=this,r=t.buffers,i=t.destination;r.length>0;){var o=r.shift();o.length>0&&i.next(o)}n.prototype._complete.call(this)},e}(f);function hr(n){var e=arguments.length,t=x;_(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new lr(n,r,i,t))}}var lr=function(){function n(e,t,r,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=i}return n.prototype.call=function(e,t){return t.subscribe(new br(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},n}(),pr=function(){function n(){this.buffer=[]}return n}(),br=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;u.bufferTimeSpan=r,u.bufferCreationInterval=i,u.maxBufferSize=o,u.scheduler=s,u.contexts=[];var a=u.openContext();if(u.timespanOnly=i==null||i<0,u.timespanOnly){var h={subscriber:u,context:a,bufferTimeSpan:r};u.add(a.closeAction=s.schedule(Dt,r,h))}else{var l={subscriber:u,context:a},p={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:u,scheduler:s};u.add(a.closeAction=s.schedule(we,r,l)),u.add(s.schedule(dr,i,p))}return u}return e.prototype._next=function(t){for(var r=this.contexts,i=r.length,o,s=0;s<i;s++){var u=r[s],a=u.buffer;a.push(t),a.length==this.maxBufferSize&&(o=u)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,n.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,r=t.contexts,i=t.destination;r.length>0;){var o=r.shift();i.next(o.buffer)}n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var r=t.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(Dt,i,o))}},e.prototype.openContext=function(){var t=new pr;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var r=this.contexts,i=r?r.indexOf(t):-1;i>=0&&r.splice(r.indexOf(t),1)},e}(f);function Dt(n){var e=n.subscriber,t=n.context;t&&e.closeContext(t),e.closed||(n.context=e.openContext(),n.context.closeAction=this.schedule(n,n.bufferTimeSpan))}function dr(n){var e=n.bufferCreationInterval,t=n.bufferTimeSpan,r=n.subscriber,i=n.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(we,t,{subscriber:r,context:o})),s.schedule(n,e))}function we(n){var e=n.subscriber,t=n.context;e.closeContext(t)}function vr(n,e){return function(r){return r.lift(new yr(n,e))}}var yr=function(){function n(e,t){this.openings=e,this.closingSelector=t}return n.prototype.call=function(e,t){return t.subscribe(new mr(e,this.openings,this.closingSelector))},n}(),mr=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(I(o,r)),o}return e.prototype._next=function(t){for(var r=this.contexts,i=r.length,o=0;o<i;o++)r[o].buffer.push(t)},e.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,n.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,n.prototype._complete.call(this)},e.prototype.notifyNext=function(t,r){t?this.closeBuffer(t):this.openBuffer(r)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var r=this.closingSelector,i=r.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var r=this.contexts;if(r&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),r.splice(r.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var r=this.contexts,i=[],o=new v,s={buffer:i,subscription:o};r.push(s);var u=I(this,t,s);!u||u.closed?this.closeBuffer(s):(u.context=s,this.add(u),o.add(u))},e}(R);function wr(n){return function(e){return e.lift(new Sr(n))}}var Sr=function(){function n(e){this.closingSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new gr(e,this.closingSelector))},n}(),gr=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new v,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(w(i,new y(this))),this.subscribing=!1},e}(m);function xr(n){return function(t){var r=new _r(n),i=t.lift(r);return r.caught=i}}var _r=function(){function n(e){this.selector=e}return n.prototype.call=function(e,t){return t.subscribe(new Tr(e,this.selector,this.caught))},n}(),Tr=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.selector=r,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(s){n.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new y(this);this.add(i);var o=w(r,i);o!==i&&this.add(o)}},e}(m);function Or(n){return function(e){return e.lift(new Ot(n))}}function Er(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=null;return typeof n[n.length-1]=="function"&&(t=n.pop()),n.length===1&&g(n[0])&&(n=n[0].slice()),function(r){return r.lift.call(N([r].concat(n)),new Ot(t))}}function Cr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return t.lift.call(K.apply(void 0,[t].concat(n)))}}function Se(n,e){return F(n,e,1)}function Ir(n,e){return Se(function(){return n},e)}function Nr(n){return function(e){return e.lift(new Vr(n,e))}}var Vr=function(){function n(e,t){this.predicate=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new Ar(e,this.predicate,this.source))},n}(),Ar=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.predicate=r,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var r;try{r=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(f);function kr(n){return function(e){return e.lift(new jr(n))}}var jr=function(){function n(e){this.durationSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new Wr(e,this.durationSelector))},n}(),Wr=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(t){try{var r=this.durationSelector.call(this,t);r&&this._tryNext(t,r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,r){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=w(r,new y(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,n.prototype._next.call(this,t)}},e}(m);function Fr(n,e){return e===void 0&&(e=x),function(t){return t.lift(new Pr(n,e))}}var Pr=function(){function n(e,t){this.dueTime=e,this.scheduler=t}return n.prototype.call=function(e,t){return t.subscribe(new Rr(e,this.dueTime,this.scheduler))},n}(),Rr=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Dr,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(f);function Dr(n){n.debouncedNext()}function et(n){return n===void 0&&(n=null),function(e){return e.lift(new Mr(n))}}var Mr=function(){function n(e){this.defaultValue=e}return n.prototype.call=function(e,t){return t.subscribe(new Br(e,this.defaultValue))},n}(),Br=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.defaultValue=r,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(f);function ge(n){return n instanceof Date&&!isNaN(+n)}function zr(n,e){e===void 0&&(e=x);var t=ge(n),r=t?+n-e.now():Math.abs(n);return function(i){return i.lift(new Ur(r,e))}}var Ur=function(){function n(e,t){this.delay=e,this.scheduler=t}return n.prototype.call=function(e,t){return t.subscribe(new Lr(e,this.delay,this.scheduler))},n}(),Lr=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var r=t.source,i=r.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var u=Math.max(0,i[0].time-o.now());this.schedule(t,u)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(t){this.active=!0;var r=this.destination;r.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var r=this.scheduler,i=new qr(r.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(t){this.scheduleNotification(C.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(C.createComplete()),this.unsubscribe()},e}(f),qr=function(){function n(e,t){this.time=e,this.notification=t}return n}();function Yr(n,e){return e?function(t){return new Gr(t,e).lift(new Mt(n))}:function(t){return t.lift(new Mt(n))}}var Mt=function(){function n(e){this.delayDurationSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new $r(e,this.delayDurationSelector))},n}(),$r=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,r,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,r){this._error(t)},e.prototype.notifyComplete=function(t){var r=this.removeSubscription(t);r&&this.destination.next(r),this.tryComplete()},e.prototype._next=function(t){var r=this.index++;try{var i=this.delayDurationSelector(t,r);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(t);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),t.outerValue},e.prototype.tryDelay=function(t,r){var i=I(this,t,r);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(R),Gr=function(n){c(e,n);function e(t,r){var i=n.call(this)||this;return i.source=t,i.subscriptionDelay=r,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Hr(t,this.source))},e}(b),Hr=function(n){c(e,n);function e(t,r){var i=n.call(this)||this;return i.parent=t,i.source=r,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(f);function Kr(){return function(e){return e.lift(new Zr)}}var Zr=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new Qr(e))},n}(),Qr=function(n){c(e,n);function e(t){return n.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(f);function Jr(n,e){return function(t){return t.lift(new Xr(n,e))}}var Xr=function(){function n(e,t){this.keySelector=e,this.flushes=t}return n.prototype.call=function(e,t){return t.subscribe(new ti(e,this.keySelector,this.flushes))},n}(),ti=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.keySelector=r,o.values=new Set,i&&o.add(w(i,new y(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var r,i=this.destination;try{r=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(r,t)},e.prototype._finalizeNext=function(t,r){var i=this.values;i.has(t)||(i.add(t),this.destination.next(r))},e}(m);function xe(n,e){return function(t){return t.lift(new ei(n,e))}}var ei=function(){function n(e,t){this.compare=e,this.keySelector=t}return n.prototype.call=function(e,t){return t.subscribe(new ni(e,this.compare,this.keySelector))},n}(),ni=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof r=="function"&&(o.compare=r),o}return e.prototype.compare=function(t,r){return t===r},e.prototype._next=function(t){var r;try{var i=this.keySelector;r=i?i(t):t}catch(u){return this.destination.error(u)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,r)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=r,this.destination.next(t))},e}(f);function ri(n,e){return xe(function(t,r){return e?e(t[n],r[n]):t[n]===r[n]})}function at(n){return n===void 0&&(n=si),function(e){return e.lift(new ii(n))}}var ii=function(){function n(e){this.errorFactory=e}return n.prototype.call=function(e,t){return t.subscribe(new oi(e,this.errorFactory))},n}(),oi=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.errorFactory=r,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(r){t=r}this.destination.error(t)},e}(f);function si(){return new tt}function It(n){return function(e){return n===0?Y():e.lift(new ui(n))}}var ui=function(){function n(e){if(this.total=e,this.total<0)throw new U}return n.prototype.call=function(e,t){return t.subscribe(new ci(e,this.total))},n}(),ci=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(t){var r=this.total,i=++this.count;i<=r&&(this.destination.next(t),i===r&&(this.destination.complete(),this.unsubscribe()))},e}(f);function ai(n,e){if(n<0)throw new U;var t=arguments.length>=2;return function(r){return r.pipe(j(function(i,o){return o===n}),It(1),t?et(e):at(function(){return new U}))}}function fi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return K(t,ct.apply(void 0,n))}}function hi(n,e){return function(t){return t.lift(new li(n,e,t))}}var li=function(){function n(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return n.prototype.call=function(e,t){return t.subscribe(new pi(e,this.predicate,this.thisArg,this.source))},n}(),pi=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var r=!1;try{r=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(f);function bi(){return function(n){return n.lift(new di)}}var di=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new vi(e))},n}(),vi=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(w(t,new y(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(m);function _e(n,e){return e?function(t){return t.pipe(_e(function(r,i){return N(n(r,i)).pipe(O(function(o,s){return e(r,o,i,s)}))}))}:function(t){return t.lift(new yi(n))}}var yi=function(){function n(e){this.project=e}return n.prototype.call=function(e,t){return t.subscribe(new mi(e,this.project))},n}(),mi=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(r)},e.prototype._innerSub=function(t){var r=new y(this),i=this.destination;i.add(r);var o=w(t,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(m);function wi(n,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new Si(n,e,t))}}var Si=function(){function n(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return n.prototype.call=function(e,t){return t.subscribe(new gi(e,this.project,this.concurrent,this.scheduler))},n}(),gi=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.project=r,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var r=t.subscriber,i=t.result,o=t.value,s=t.index;r.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var u={subscriber:this,result:s,value:t,index:i},a=this.destination;a.add(this.scheduler.schedule(e.dispatch,0,u))}}catch(h){r.error(h)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,r,i){this.active++;var o=this.destination;o.add(w(t,new y(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(m);function xi(n){return function(e){return e.lift(new _i(n))}}var _i=function(){function n(e){this.callback=e}return n.prototype.call=function(e,t){return t.subscribe(new Ti(e,this.callback))},n}(),Ti=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.add(new v(r)),i}return e}(f);function Oi(n,e){if(typeof n!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new Te(n,t,!1,e))}}var Te=function(){function n(e,t,r,i){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=i}return n.prototype.call=function(e,t){return t.subscribe(new Ei(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},n}(),Ei=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;return u.predicate=r,u.source=i,u.yieldIndex=o,u.thisArg=s,u.index=0,u}return e.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete(),this.unsubscribe()},e.prototype._next=function(t){var r=this,i=r.predicate,o=r.thisArg,s=this.index++;try{var u=i.call(o||this,t,s,this.source);u&&this.notifyComplete(this.yieldIndex?s:t)}catch(a){this.destination.error(a)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(f);function Ci(n,e){return function(t){return t.lift(new Te(n,t,!0,e))}}function Ii(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?j(function(i,o){return n(i,o,r)}):A,It(1),t?et(e):at(function(){return new tt}))}}function Ni(){return function(e){return e.lift(new Vi)}}var Vi=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new Ai(e))},n}(),Ai=function(n){c(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(f);function ki(){return function(n){return n.lift(new ji)}}var ji=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new Wi(e))},n}(),Wi=function(n){c(e,n);function e(t){return n.call(this,t)||this}return e.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(f);function st(n){return function(t){return n===0?Y():t.lift(new Fi(n))}}var Fi=function(){function n(e){if(this.total=e,this.total<0)throw new U}return n.prototype.call=function(e,t){return t.subscribe(new Pi(e,this.total))},n}(),Pi=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.total=r,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var r=this.ring,i=this.total,o=this.count++;if(r.length<i)r.push(t);else{var s=o%i;r[s]=t}},e.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var u=r++%i;t.next(o[u])}t.complete()},e}(f);function Ri(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?j(function(i,o){return n(i,o,r)}):A,st(1),t?et(e):at(function(){return new tt}))}}function Di(n){return function(e){return e.lift(new Mi(n))}}var Mi=function(){function n(e){this.value=e}return n.prototype.call=function(e,t){return t.subscribe(new Bi(e,this.value))},n}(),Bi=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(f);function zi(){return function(e){return e.lift(new Ui)}}var Ui=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new Li(e))},n}(),Li=function(n){c(e,n);function e(t){return n.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(C.createNext(t))},e.prototype._error=function(t){var r=this.destination;r.next(C.createError(t)),r.complete()},e.prototype._complete=function(){var t=this.destination;t.next(C.createComplete()),t.complete()},e}(f);function ut(n,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new qi(n,e,t))}}var qi=function(){function n(e,t,r){r===void 0&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return n.prototype.call=function(e,t){return t.subscribe(new Yi(e,this.accumulator,this.seed,this.hasSeed))},n}(),Yi=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var r=this.index++,i;try{i=this.accumulator(this.seed,t,r)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(f);function ft(n,e){return arguments.length>=2?function(r){return pt(ut(n,e),st(1),et(e))(r)}:function(r){return pt(ut(function(i,o,s){return n(i,o,s+1)}),st(1))(r)}}function $i(n){var e=typeof n=="function"?function(t,r){return n(t,r)>0?t:r}:function(t,r){return t>r?t:r};return ft(e)}function Gi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return t.lift.call(he.apply(void 0,[t].concat(n)))}}function Hi(n,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?F(function(){return n},e,t):(typeof e=="number"&&(t=e),F(function(){return n},t))}function Ki(n,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(r){return r.lift(new Zi(n,e,t))}}var Zi=function(){function n(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return n.prototype.call=function(e,t){return t.subscribe(new Qi(e,this.accumulator,this.seed,this.concurrent))},n}(),Qi=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.accumulator=r,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var r=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,r)}catch(u){return i.error(u)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var r=new y(this),i=this.destination;i.add(r);var o=w(t,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var r=this.destination;this.acc=t,this.hasValue=!0,r.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(m);function Ji(n){var e=typeof n=="function"?function(t,r){return n(t,r)<0?t:r}:function(t,r){return t<r?t:r};return ft(e)}function P(n,e){return function(r){var i;if(typeof n=="function"?i=n:i=function(){return n},typeof e=="function")return r.lift(new Xi(i,e));var o=Object.create(r,je);return o.source=r,o.subjectFactory=i,o}}var Xi=function(){function n(e,t){this.subjectFactory=e,this.selector=t}return n.prototype.call=function(e,t){var r=this.selector,i=this.subjectFactory(),o=r(i).subscribe(e);return o.add(t.subscribe(i)),o},n}();function to(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.length===1&&g(n[0])&&(n=n[0]),function(t){return t.lift(new eo(n))}}var eo=function(){function n(e){this.nextSources=e}return n.prototype.call=function(e,t){return t.subscribe(new no(e,this.nextSources))},n}(),no=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.destination=t,i.nextSources=r,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var r=new y(this),i=this.destination;i.add(r);var o=w(t,r);o!==r&&i.add(o)}else this.destination.complete()},e}(m);function ro(){return function(n){return n.lift(new io)}}var io=function(){function n(){}return n.prototype.call=function(e,t){return t.subscribe(new oo(e))},n}(),oo=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.hasPrev=!1,r}return e.prototype._next=function(t){var r;this.hasPrev?r=[this.prev,t]:this.hasPrev=!0,this.prev=t,r&&this.destination.next(r)},e}(f);function so(n,e){return function(t){return[j(n,e)(t),j(pe(n,e))(t)]}}function uo(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(r){return O(co(n,t))(r)}}function co(n,e){var t=function(r){for(var i=r,o=0;o<e;o++){var s=i!=null?i[n[o]]:void 0;if(s!==void 0)i=s;else return}return i};return t}function ao(n){return n?P(function(){return new S},n):P(new S)}function fo(n){return function(e){return P(new $t(n))(e)}}function ho(){return function(n){return P(new $)(n)}}function lo(n,e,t,r){t&&typeof t!="function"&&(r=t);var i=typeof t=="function"?t:void 0,o=new Tt(n,e,r);return function(s){return P(function(){return o},i)(s)}}function po(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(r){return n.length===1&&g(n[0])&&(n=n[0]),r.lift.call(be.apply(void 0,[r].concat(n)))}}function bo(n){return n===void 0&&(n=-1),function(e){return n===0?Y():n<0?e.lift(new Bt(-1,e)):e.lift(new Bt(n-1,e))}}var Bt=function(){function n(e,t){this.count=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new vo(e,this.count,this.source))},n}(),vo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.count=r,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,r=t.source,i=t.count;if(i===0)return n.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(f);function yo(n){return function(e){return e.lift(new mo(n))}}var mo=function(){function n(e){this.notifier=e}return n.prototype.call=function(e,t){return t.subscribe(new wo(e,this.notifier,t))},n}(),wo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.notifier=r,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return n.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return n.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,r=t.notifications,i=t.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,n.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new S;var t;try{var r=this.notifier;t=r(this.notifications)}catch{return n.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=w(t,new y(this))},e}(m);function So(n){return n===void 0&&(n=-1),function(e){return e.lift(new go(n,e))}}var go=function(){function n(e,t){this.count=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new xo(e,this.count,this.source))},n}(),xo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.count=r,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var r=this,i=r.source,o=r.count;if(o===0)return n.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(f);function _o(n){return function(e){return e.lift(new To(n,e))}}var To=function(){function n(e,t){this.notifier=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new Oo(e,this.notifier,this.source))},n}(),Oo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.notifier=r,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var r=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new S;try{var s=this.notifier;i=s(r)}catch(u){return n.prototype.error.call(this,u)}o=w(i,new y(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=o,r.next(t)}},e.prototype._unsubscribe=function(){var t=this,r=t.errors,i=t.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(m);function Eo(n){return function(e){return e.lift(new Co(n))}}var Co=function(){function n(e){this.notifier=e}return n.prototype.call=function(e,t){var r=new Io(e),i=t.subscribe(r);return i.add(w(this.notifier,new y(r))),i},n}(),Io=function(n){c(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(m);function No(n,e){return e===void 0&&(e=x),function(t){return t.lift(new Vo(n,e))}}var Vo=function(){function n(e,t){this.period=e,this.scheduler=t}return n.prototype.call=function(e,t){return t.subscribe(new Ao(e,this.period,this.scheduler))},n}(),Ao=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.period=r,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(ko,r,{subscriber:o,period:r})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(f);function ko(n){var e=n.subscriber,t=n.period;e.notifyNext(),this.schedule(n,t)}function jo(n,e){return function(t){return t.lift(new Wo(n,e))}}var Wo=function(){function n(e,t){this.compareTo=e,this.comparator=t}return n.prototype.call=function(e,t){return t.subscribe(new Fo(e,this.compareTo,this.comparator))},n}(),Fo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.compareTo=r,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new Po(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,r=t._a,i=t._b,o=t.comparator;r.length>0&&i.length>0;){var s=r.shift(),u=i.shift(),a=!1;try{a=o?o(s,u):s===u}catch(h){this.destination.error(h)}a||this.emit(!1)}},e.prototype.emit=function(t){var r=this.destination;r.next(t),r.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(f),Po=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.parent=r,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(f);function Ro(){return new S}function Do(){return function(n){return gt()(P(Ro)(n))}}function Mo(n,e,t){var r;return n&&typeof n=="object"?r=n:r={bufferSize:n,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(Bo(r))}}function Bo(n){var e=n.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,r=n.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,o=n.refCount,s=n.scheduler,u,a=0,h,l=!1,p=!1;return function(W){a++;var D;!u||l?(l=!1,u=new Tt(t,i,s),D=u.subscribe(this),h=W.subscribe({next:function(ht){u.next(ht)},error:function(ht){l=!0,u.error(ht)},complete:function(){p=!0,h=void 0,u.complete()}}),p&&(h=void 0)):D=u.subscribe(this),this.add(function(){a--,D.unsubscribe(),D=void 0,h&&!p&&o&&a===0&&(h.unsubscribe(),h=void 0,u=void 0)})}}function zo(n){return function(e){return e.lift(new Uo(n,e))}}var Uo=function(){function n(e,t){this.predicate=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new Lo(e,this.predicate,this.source))},n}(),Lo=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.predicate=r,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var r=this.index++;this.predicate?this.tryNext(t,r):this.applySingleValue(t)},e.prototype.tryNext=function(t,r){try{this.predicate(t,r,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new tt)},e}(f);function qo(n){return function(e){return e.lift(new Yo(n))}}var Yo=function(){function n(e){this.total=e}return n.prototype.call=function(e,t){return t.subscribe(new $o(e,this.total))},n}(),$o=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(f);function Go(n){return function(e){return e.lift(new Ho(n))}}var Ho=function(){function n(e){if(this._skipCount=e,this._skipCount<0)throw new U}return n.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new f(e)):t.subscribe(new Ko(e,this._skipCount))},n}(),Ko=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return e.prototype._next=function(t){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=t;else{var o=i%r,s=this._ring,u=s[o];s[o]=t,this.destination.next(u)}},e}(f);function Zo(n){return function(e){return e.lift(new Qo(n))}}var Qo=function(){function n(e){this.notifier=e}return n.prototype.call=function(e,t){return t.subscribe(new Jo(e,this.notifier))},n}(),Jo=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;i.hasValue=!1;var o=new y(i);i.add(o),i.innerSubscription=o;var s=w(r,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&n.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(m);function Xo(n){return function(e){return e.lift(new ts(n))}}var ts=function(){function n(e){this.predicate=e}return n.prototype.call=function(e,t){return t.subscribe(new es(e,this.predicate))},n}(),es=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var r=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||r.next(t)},e.prototype.tryCallPredicate=function(t){try{var r=this.predicate(t,this.index++);this.skipping=Boolean(r)}catch(i){this.destination.error(i)}},e}(f);function ns(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return _(t)?(n.pop(),function(r){return K(n,r,t)}):function(r){return K(n,r)}}var rs=function(n){c(e,n);function e(t,r,i){r===void 0&&(r=0),i===void 0&&(i=rt);var o=n.call(this)||this;return o.source=t,o.delayTime=r,o.scheduler=i,(!L(r)||r<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=rt),o}return e.create=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=rt),new e(t,r,i)},e.dispatch=function(t){var r=t.source,i=t.subscriber;return this.add(r.subscribe(i))},e.prototype._subscribe=function(t){var r=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,r,{source:i,subscriber:t})},e}(b);function is(n,e){return e===void 0&&(e=0),function(r){return r.lift(new os(n,e))}}var os=function(){function n(e,t){this.scheduler=e,this.delay=t}return n.prototype.call=function(e,t){return new rs(t,this.delay,this.scheduler).subscribe(e)},n}();function Z(n,e){return typeof e=="function"?function(t){return t.pipe(Z(function(r,i){return N(n(r,i)).pipe(O(function(o,s){return e(r,o,i,s)}))}))}:function(t){return t.lift(new ss(n))}}var ss=function(){function n(e){this.project=e}return n.prototype.call=function(e,t){return t.subscribe(new us(e,this.project))},n}(),us=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(r)},e.prototype._innerSub=function(t){var r=this.innerSubscription;r&&r.unsubscribe();var i=new y(this),o=this.destination;o.add(i),this.innerSubscription=w(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&n.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&n.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(m);function cs(){return Z(A)}function as(n,e){return e?Z(function(){return n},e):Z(function(){return n})}function fs(n){return function(e){return e.lift(new hs(n))}}var hs=function(){function n(e){this.notifier=e}return n.prototype.call=function(e,t){var r=new ls(e),i=w(this.notifier,new y(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r},n}(),ls=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.seenValue=!1,r}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(m);function ps(n,e){return e===void 0&&(e=!1),function(t){return t.lift(new bs(n,e))}}var bs=function(){function n(e,t){this.predicate=e,this.inclusive=t}return n.prototype.call=function(e,t){return t.subscribe(new ds(e,this.predicate,this.inclusive))},n}(),ds=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.predicate=r,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var r=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){r.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,r){var i=this.destination;Boolean(r)?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(f);function vs(n,e,t){return function(i){return i.lift(new ys(n,e,t))}}var ys=function(){function n(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return n.prototype.call=function(e,t){return t.subscribe(new ms(e,this.nextOrObserver,this.error,this.complete))},n}(),ms=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s._tapNext=E,s._tapError=E,s._tapComplete=E,s._tapError=i||E,s._tapComplete=o||E,B(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||E,s._tapError=r.error||E,s._tapComplete=r.complete||E),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){this.destination.error(r);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(r){this.destination.error(r);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(f),Oe={leading:!0,trailing:!1};function ws(n,e){return e===void 0&&(e=Oe),function(t){return t.lift(new Ss(n,!!e.leading,!!e.trailing))}}var Ss=function(){function n(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return n.prototype.call=function(e,t){return t.subscribe(new gs(e,this.durationSelector,this.leading,this.trailing))},n}(),gs=function(n){c(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.destination=t,s.durationSelector=r,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,r=t._hasValue,i=t._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var r=this.tryDurationSelector(t);r&&this.add(this._throttled=w(r,new y(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(r){return this.destination.error(r),null}},e.prototype.throttlingDone=function(){var t=this,r=t._throttled,i=t._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(m);function xs(n,e,t){return e===void 0&&(e=x),t===void 0&&(t=Oe),function(r){return r.lift(new _s(n,e,t.leading,t.trailing))}}var _s=function(){function n(e,t,r,i){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=i}return n.prototype.call=function(e,t){return t.subscribe(new Ts(e,this.duration,this.scheduler,this.leading,this.trailing))},n}(),Ts=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;return u.duration=r,u.scheduler=i,u.leading=o,u.trailing=s,u._hasTrailingValue=!1,u._trailingValue=null,u}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Os,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(f);function Os(n){var e=n.subscriber;e.clearThrottle()}function Es(n){return n===void 0&&(n=x),function(e){return Ct(function(){return e.pipe(ut(function(t,r){var i=t.current;return{value:r,current:n.now(),last:i}},{current:n.now(),value:void 0,last:void 0}),O(function(t){var r=t.current,i=t.last,o=t.value;return new Cs(o,r-i)}))})}}var Cs=function(){function n(e,t){this.value=e,this.interval=t}return n}();function Ee(n,e,t){return t===void 0&&(t=x),function(r){var i=ge(n),o=i?+n-t.now():Math.abs(n);return r.lift(new Is(o,i,e,t))}}var Is=function(){function n(e,t,r,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=i}return n.prototype.call=function(e,t){return t.subscribe(new Ns(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},n}(),Ns=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;return u.absoluteTimeout=r,u.waitFor=i,u.withObservable=o,u.scheduler=s,u.scheduleTimeout(),u}return e.dispatchTimeout=function(t){var r=t.withObservable;t._unsubscribeAndRecycle(),t.add(w(r,new y(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),n.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(m);function Vs(n,e){return e===void 0&&(e=x),Ee(n,_t(new ee),e)}function As(n){return n===void 0&&(n=x),O(function(e){return new ks(e,n.now())})}var ks=function(){function n(e,t){this.value=e,this.timestamp=t}return n}();function js(n,e,t){return t===0?[e]:(n.push(e),n)}function Ws(){return ft(js,[])}function Fs(n){return function(t){return t.lift(new Ps(n))}}var Ps=function(){function n(e){this.windowBoundaries=e}return n.prototype.call=function(e,t){var r=new Rs(e),i=t.subscribe(r);return i.closed||r.add(w(this.windowBoundaries,new y(r))),i},n}(),Rs=function(n){c(e,n);function e(t){var r=n.call(this,t)||this;return r.window=new S,t.next(r.window),r}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var r=this.destination,i=this.window=new S;r.next(i)},e}(m);function Ds(n,e){return e===void 0&&(e=0),function(r){return r.lift(new Ms(n,e))}}var Ms=function(){function n(e,t){this.windowSize=e,this.startWindowEvery=t}return n.prototype.call=function(e,t){return t.subscribe(new Bs(e,this.windowSize,this.startWindowEvery))},n}(),Bs=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.destination=t,o.windowSize=r,o.startWindowEvery=i,o.windows=[new S],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,u=s.length,a=0;a<u&&!this.closed;a++)s[a].next(t);var h=this.count-o+1;if(h>=0&&h%r===0&&!this.closed&&s.shift().complete(),++this.count%r===0&&!this.closed){var l=new S;s.push(l),i.next(l)}},e.prototype._error=function(t){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(f);function zs(n){var e=x,t=null,r=Number.POSITIVE_INFINITY;return _(arguments[3])&&(e=arguments[3]),_(arguments[2])?e=arguments[2]:L(arguments[2])&&(r=Number(arguments[2])),_(arguments[1])?e=arguments[1]:L(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new Us(n,t,r,e))}}var Us=function(){function n(e,t,r,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=i}return n.prototype.call=function(e,t){return t.subscribe(new qs(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},n}(),Ls=function(n){c(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,n.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(S),qs=function(n){c(e,n);function e(t,r,i,o,s){var u=n.call(this,t)||this;u.destination=t,u.windowTimeSpan=r,u.windowCreationInterval=i,u.maxWindowSize=o,u.scheduler=s,u.windows=[];var a=u.openWindow();if(i!==null&&i>=0){var h={subscriber:u,window:a,context:null},l={windowTimeSpan:r,windowCreationInterval:i,subscriber:u,scheduler:s};u.add(s.schedule(Ce,r,h)),u.add(s.schedule($s,i,l))}else{var p={subscriber:u,window:a,windowTimeSpan:r};u.add(s.schedule(Ys,r,p))}return u}return e.prototype._next=function(t){for(var r=this.windows,i=r.length,o=0;o<i;o++){var s=r[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var r=this.windows;r.length>0;)r.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var r=t.shift();r.closed||r.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Ls;this.windows.push(t);var r=this.destination;return r.next(t),t},e.prototype.closeWindow=function(t){t.complete();var r=this.windows;r.splice(r.indexOf(t),1)},e}(f);function Ys(n){var e=n.subscriber,t=n.windowTimeSpan,r=n.window;r&&e.closeWindow(r),n.window=e.openWindow(),this.schedule(n,t)}function $s(n){var e=n.windowTimeSpan,t=n.subscriber,r=n.scheduler,i=n.windowCreationInterval,o=t.openWindow(),s=this,u={action:s,subscription:null},a={subscriber:t,window:o,context:u};u.subscription=r.schedule(Ce,e,a),s.add(u.subscription),s.schedule(n,i)}function Ce(n){var e=n.subscriber,t=n.window,r=n.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(t)}function Gs(n,e){return function(t){return t.lift(new Hs(n,e))}}var Hs=function(){function n(e,t){this.openings=e,this.closingSelector=t}return n.prototype.call=function(e,t){return t.subscribe(new Ks(e,this.openings,this.closingSelector))},n}(),Ks=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.openings=r,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=I(o,r,r)),o}return e.prototype._next=function(t){var r=this.contexts;if(r)for(var i=r.length,o=0;o<i;o++)r[o].window.next(t)},e.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,o=-1;++o<i;){var s=r[o];s.window.error(t),s.subscription.unsubscribe()}n.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,i=-1;++i<r;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,i=-1;++i<r;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,r,i,o,s){if(t===this.openings){var u=void 0;try{var a=this.closingSelector;u=a(r)}catch(W){return this.error(W)}var h=new S,l=new v,p={window:h,subscription:l};this.contexts.push(p);var d=I(this,u,p);d.closed?this.closeWindow(this.contexts.length-1):(d.context=p,l.add(d)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var r=this.contexts,i=r[t],o=i.window,s=i.subscription;r.splice(t,1),o.complete(),s.unsubscribe()}},e}(R);function Zs(n){return function(t){return t.lift(new Qs(n))}}var Qs=function(){function n(e){this.closingSelector=e}return n.prototype.call=function(e,t){return t.subscribe(new Js(e,this.closingSelector))},n}(),Js=function(n){c(e,n);function e(t,r){var i=n.call(this,t)||this;return i.destination=t,i.closingSelector=r,i.openWindow(),i}return e.prototype.notifyNext=function(t,r,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new S;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(u){this.destination.error(u),this.window.error(u);return}this.add(this.closingNotification=I(this,o))},e}(R);function Xs(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){var r;typeof n[n.length-1]=="function"&&(r=n.pop());var i=n;return t.lift(new tu(i,r))}}var tu=function(){function n(e,t){this.observables=e,this.project=t}return n.prototype.call=function(e,t){return t.subscribe(new eu(e,this.observables,this.project))},n}(),eu=function(n){c(e,n);function e(t,r,i){var o=n.call(this,t)||this;o.observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var u=0;u<s;u++)o.toRespond.push(u);for(var u=0;u<s;u++){var a=r[u];o.add(I(o,a,void 0,u))}return o}return e.prototype.notifyNext=function(t,r,i){this.values[i]=r;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},e.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(R);function nu(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(r){return r.lift.call(ve.apply(void 0,[r].concat(n)))}}function ru(n){return function(e){return e.lift(new ye(n))}}const iu=Object.freeze(Object.defineProperty({__proto__:null,audit:me,auditTime:rr,buffer:ir,bufferCount:ur,bufferTime:hr,bufferToggle:vr,bufferWhen:wr,catchError:xr,combineAll:Or,combineLatest:Er,concat:Cr,concatAll:ue,concatMap:Se,concatMapTo:Ir,count:Nr,debounce:kr,debounceTime:Fr,defaultIfEmpty:et,delay:zr,delayWhen:Yr,dematerialize:Kr,distinct:Jr,distinctUntilChanged:xe,distinctUntilKeyChanged:ri,elementAt:ai,endWith:fi,every:hi,exhaust:bi,exhaustMap:_e,expand:wi,filter:j,finalize:xi,find:Oi,findIndex:Ci,first:Ii,groupBy:Fe,ignoreElements:Ni,isEmpty:ki,last:Ri,map:O,mapTo:Di,materialize:zi,max:$i,merge:Gi,mergeAll:Et,mergeMap:F,flatMap:In,mergeMapTo:Hi,mergeScan:Ki,min:Ji,multicast:P,observeOn:Ye,onErrorResumeNext:to,pairwise:ro,partition:so,pluck:uo,publish:ao,publishBehavior:fo,publishLast:ho,publishReplay:lo,race:po,reduce:ft,repeat:bo,repeatWhen:yo,retry:So,retryWhen:_o,refCount:gt,sample:Eo,sampleTime:No,scan:ut,sequenceEqual:jo,share:Do,shareReplay:Mo,single:zo,skip:qo,skipLast:Go,skipUntil:Zo,skipWhile:Xo,startWith:ns,subscribeOn:is,switchAll:cs,switchMap:Z,switchMapTo:as,take:It,takeLast:st,takeUntil:fs,takeWhile:ps,tap:vs,throttle:ws,throttleTime:xs,throwIfEmpty:at,timeInterval:Es,timeout:Vs,timeoutWith:Ee,timestamp:As,toArray:Ws,window:Fs,windowCount:Ds,windowTime:zs,windowToggle:Gs,windowWhen:Zs,withLatestFrom:Xs,zip:nu,zipAll:ru},Symbol.toStringTag,{value:"Module"})),uu=zt(iu);export{b as O,he as a,su as b,uu as c,Et as d,O as m,ft as r,Ws as t};
