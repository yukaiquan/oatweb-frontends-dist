import{r as p,a as v,b as d,c as _,d as h,e as L,f as b,g as q}from"./readable-stream.b9ecb3ea.js";import{i as w}from"./inherits.0b103347.js";var S=n,s=p.EventEmitter,E=w.exports;E(n,s);n.Readable=v();n.Writable=d();n.Duplex=_();n.Transform=h();n.PassThrough=L();n.finished=b();n.pipeline=q();n.Stream=n;function n(){s.call(this)}n.prototype.pipe=function(r,u){var e=this;function f(t){r.writable&&r.write(t)===!1&&e.pause&&e.pause()}e.on("data",f);function m(){e.readable&&e.resume&&e.resume()}r.on("drain",m),!r._isStdio&&(!u||u.end!==!1)&&(e.on("end",l),e.on("close",c));var o=!1;function l(){o||(o=!0,r.end())}function c(){o||(o=!0,typeof r.destroy=="function"&&r.destroy())}function a(t){if(i(),s.listenerCount(this,"error")===0)throw t}e.on("error",a),r.on("error",a);function i(){e.removeListener("data",f),r.removeListener("drain",m),e.removeListener("end",l),e.removeListener("close",c),e.removeListener("error",a),r.removeListener("error",a),e.removeListener("end",i),e.removeListener("close",i),r.removeListener("close",i)}return e.on("end",i),e.on("close",i),r.on("close",i),r.emit("pipe",e),r};export{S as s};
