import{a as s,r as f}from"./react.9f8bb2ca.js";import{o as R}from"./mobx-react.2a8c917b.js";import{bP as G,d5 as v,c$ as $,d6 as A,bu as N,d0 as L,q as D,cc as E,db as O,dc as I}from"./@mui.d95a2776.js";import{j as h,F as k,a as e}from"./@jbrowse.1c1f30ba.js";import{u as z,S as j,c as B}from"./index.4faa1368.js";import"./react-wordcloud.baf87427.js";import"./tippy.js.1d5f9674.js";import{S as T}from"./index.5427e0da.js";import"./react-photo-view.923f7cb9.js";/* empty css                    */import"./buffer.66f81d03.js";import"./buffer-crc32.64f36e84.js";import"./set-value.9a248538.js";import"./d3-transition.f3d28b47.js";import"./d3-zoom.f1247752.js";import{l as P,b as F}from"./d3.a4ecf85d.js";import{m as q}from"./d3-array.7bc8321b.js";import{d as b,e as C}from"./d3-selection.726d9adf.js";import{a as M,b as V}from"./d3-axis.73049676.js";import"./@babel.d3038ccc.js";import"./mobx.82db3864.js";import"./rollup-plugin-node-polyfills.285eab2e.js";import"./mobx-react-lite.1bfe1eb4.js";import"./react-dom.55372f0a.js";import"./scheduler.f16d5006.js";import"./react-is.0322be43.js";import"./prop-types.ed5ed641.js";import"./clsx.33a47233.js";import"./@emotion.97d8af27.js";import"./stylis.471761e6.js";import"./hoist-non-react-statics.7be3bd10.js";import"./reselect.bd965e1c.js";import"./react-transition-group.095bf55b.js";import"./@popperjs.bc85b236.js";import"./rxjs.bbb58625.js";import"./mobx-state-tree.86fcbbc7.js";import"./@gmod.89422c98.js";import"./abortable-promise-cache.7cb58d6d.js";import"./abortcontroller-polyfill.e0408538.js";import"./quick-lru.2e8f10dc.js";import"./pako.ae457f40.js";import"./@jkbonfield.580cc4c5.js";import"./bzip2.7acc0326.js";import"./md5.e4ed9555.js";import"./crypt.894faad3.js";import"./charenc.26816e87.js";import"./is-buffer.30be6946.js";import"./long.81b4bfdc.js";import"./cross-fetch.5e5fd403.js";import"./generic-filehandle.a92b52fd.js";import"./object.entries-ponyfill.1bb02ccd.js";import"./binary-parser.62cc4542.js";import"./stream-browserify.c9806a5a.js";import"./readable-stream.b9ecb3ea.js";import"./inherits.0b103347.js";import"./string_decoder.54c7d31f.js";import"./safe-buffer.d6407320.js";import"./util-deprecate.7e67cde4.js";import"./fast-deep-equal.a94972be.js";import"./get-value.d7d31411.js";import"./isobject.df66a4ce.js";import"./tss-react.d823a444.js";import"./react-use-measure.c76e41e7.js";import"./debounce.db2fda29.js";import"./json-stable-stringify.0a3208a5.js";import"./jsonify.125a2c45.js";import"./rbush.c53ead3c.js";import"./canvas-sequencer.89cdaa84.js";import"./canvas2svg.bb21c42d.js";import"./clone.12982bcb.js";import"./librpc-web-mod.114fca1e.js";import"./@librpc.077300ae.js";import"./serialize-error.2d78dd57.js";import"./shortid.ae0851a5.js";import"./d3-scale.b5c2ec72.js";import"./react-popper.5e9e888f.js";import"./react-fast-compare.6ca799e7.js";import"./file-saver.1b7919eb.js";import"./react-error-boundary.5999f6e6.js";import"./material-ui-popup-state.2f0cd738.js";import"./normalize-wheel.08b32984.js";import"./copy-to-clipboard.eb25ebbd.js";import"./toggle-selection.b84dd588.js";import"./react-d3-axis-mod.e8c27339.js";import"./load-script2.e50455fe.js";import"./react-draggable.a41929d4.js";import"./color.b8402d12.js";import"./color-string.6cf0e789.js";import"./color-name.e7a4e1d3.js";import"./simple-swizzle.bbda63e1.js";import"./is-arrayish.e606b633.js";import"./color-convert.69e17089.js";import"./@flatten-js.f79d6531.js";import"./pluralize.4d99efd8.js";import"./react-virtualized-auto-sizer.ca6237cd.js";import"./react-vtree.cc427872.js";import"./react-window.8464caa7.js";import"./memoize-one.38c86d42.js";import"./react-merge-refs.1793fef1.js";import"./detect-node.cdefd8ba.js";import"./http-range-fetcher.fcdfd695.js";import"./window-or-global.776535f1.js";import"./deepmerge.d048be44.js";import"./is-object.da397113.js";import"./escape-html.e5dfadb9.js";import"./dompurify.a6c1e8f6.js";import"./react-intersection-observer.8cfb7c97.js";import"./jexl.58bb62c6.js";import"./react-router-dom.66b1527d.js";import"./react-router.61103ab6.js";import"./@remix-run.a4d7d1fc.js";import"./axios.875095ff.js";import"./form-data.d1f94bc2.js";import"./echarts.af56a0c2.js";import"./zrender.d2a2db01.js";import"./tslib.60310f1a.js";import"./react-use.dd3eab68.js";import"./lodash.debounce.13769b0a.js";import"./resize-observer-polyfill.6a0cacef.js";import"./d3-cloud.fef403d3.js";import"./lodash.clonedeep.2bb591f8.js";import"./seedrandom.0aa0ec75.js";import"./base64-js.db0f5df9.js";import"./ieee754.6e84f04f.js";import"./is-primitive.a4f13848.js";import"./is-plain-object.963f95c0.js";import"./d3-dispatch.1dc92aff.js";import"./d3-timer.cc6157f5.js";import"./d3-interpolate.9abf35b8.js";import"./d3-color.bd75bd6f.js";import"./d3-ease.22ca3a91.js";import"./internmap.b4fc497e.js";import"./d3-format.fc8f847c.js";const W=m=>{const t={w:900,h:600,margin:{top:80,right:200,bottom:80,left:450}},o=[{"biological process":"#f74d4d"},{"cellular component":"#ffb510"},{"molecular function":"#41b7ac"}],n="goenrich";f.exports.useEffect(()=>{b(`#${n}`).remove(),b("#svg-area").append("svg").attr("id",n).attr("width",t.w).attr("height",t.h);const p=b(`#${n}`).append("g").attr("id","content").style("transform",`translate(${t.margin.left}px, ${t.margin.top}px)`),i=b(`#${n}`).append("g").attr("id","legend").style("transform",`translate(${t.w-t.margin.right+20}px, ${t.h/2}px)`);y(m.GoResult,p,i)},[t,m.GoResult]);const y=(p,i,a)=>{const u=P().domain([0,q(p,r=>r.GeneNumber)]).range([0,t.w-t.margin.left-t.margin.right]).nice(),l=F().domain(p.map(r=>r.Description)).range([0,t.h-t.margin.bottom-t.margin.top]),w=M(u).ticks(5).tickSize(5).tickSizeOuter(5).tickPadding(5),S=V(l).ticks(5).tickSize(5).tickPadding(10);i.append("g").attr("class","axis-x").attr("transform",`translate(0, ${t.h-t.margin.bottom-t.margin.top})`).call(w),i.append("g").attr("class","axis-y").style("font-size","0.75rem").call(S),i.selectAll(".bar").data(p).enter().append("rect").attr("class","bar").attr("x",0).attr("y",r=>l(r.Description)).attr("width",r=>u(r.GeneNumber)).attr("height",l.bandwidth()-2).attr("fill",r=>`${o.filter(g=>Object.keys(g)[0]===r.type)[0][r.type]}`),C(".axis-x .tick line").attr("stroke","#b8c7e0a6"),C(".axis-y .tick line").attr("stroke","#b8c7e0a6"),i.append("rect").attr("class","border").attr("x",0).attr("y",0).attr("width",t.w-t.margin.left-t.margin.right).attr("height",t.h-t.margin.bottom-t.margin.top).attr("fill","none").attr("stroke","#b8c7e0a6").attr("stroke-width",1),i.append("text").attr("class","title").attr("x",(t.w-t.margin.left-t.margin.right)/2).attr("y",-20).attr("text-anchor","middle").text("GO Enrichment Analysis").style("font-weight","bold"),i.append("text").attr("class","axis-title").attr("x",(t.w-t.margin.left-t.margin.right)/2).attr("y",t.h-t.margin.bottom-t.margin.top+35).attr("text-anchor","middle").text("Gene Number").style("font-weight","bold"),i.append("text").attr("class","axis-title").attr("x",-t.h/2+50).attr("y",-t.margin.left+20).attr("text-anchor","middle").attr("transform","rotate(-90)").text("Description").style("font-weight","bold");const c=a.selectAll(".legend").data(o.map(r=>Object.keys(r)[0])).enter().append("g").attr("class","legend").attr("transform",(r,d)=>`translate(0, ${d*30})`);c.append("rect").attr("x",0).attr("y",0).attr("width",20).attr("height",20).attr("fill",r=>`${o.filter(g=>Object.keys(g)[0]===r)[0][r]}`),c.append("text").attr("x",30).attr("y",15).text(r=>r)};return e(k,{children:e("div",{id:"svg-area"})})},_=()=>e(O,{children:e(I,{printOptions:{disableToolbarButton:!0}})}),H=m=>{const t={columns:[{field:"id",headerName:"ID",width:100},{field:"Description",headerName:"Description",width:350,editable:!0},{field:"GeneNumber",headerName:"GeneNumber",type:"number",width:100,editable:!0},{field:"type",headerName:"type",width:150,editable:!0},{field:"gene",headerName:"gene",width:380,editable:!0},{field:"number",headerName:"number",type:"number",width:150,editable:!0}],rows:m.GoResult},[o,n]=s.useState(!1);return e("div",{style:{height:380,width:"98%",marginLeft:"0.5rem"},children:e(E,{...t,loading:o,components:{Toolbar:_}})})};function J(){const[m,t]=s.useState(!1),[o,n]=s.useState(""),[y,p]=s.useState("success"),i=()=>{t(!1)};f.exports.useEffect(()=>{a.getGenomes()},[]);const{webStore:a}=z(),[u,l]=f.exports.useState(""),w=x=>{u!==String(x)&&l(String(x))},[S,c]=f.exports.useState(""),[r,d]=s.useState(!1),[g,K]=s.useState(!1);return h(k,{children:[e(j,{open:m,message:o,color:y,getCloses:i}),h(G,{container:!0,spacing:2,sx:{mt:1,mb:2,backgroundColor:"#f3f6f9",ml:0,width:"100%"},children:[e(G,{item:!0,xs:12,sm:12,md:6,lg:3,xl:3,sx:{pl:"0 !important"},children:h(v,{spacing:2,children:[e(T,{title:"Gene GO Enrich",icon:"icon-DNA"}),e($,{loading:r,onClick:()=>{d(!r),c(a.goList)},variant:"contained",sx:{mb:1},color:"secondary",children:"Example"}),e(B,{SelectListProps:a.getGenomeTarget(),name:"Genome",getCount:w,isId:!0}),e(A,{minRows:10,maxRows:10,"aria-label":"maximum height",placeholder:"Gene id list",defaultValue:S,style:{width:"99%",marginTop:"1rem",borderColor:"cornflowerblue",fontSize:"1rem"},onChange:x=>c(x.target.value)}),e(N,{label:"p-value",id:"margin-none",sx:{m:1}}),e(N,{label:"q-value",id:"margin-none"}),e($,{loading:g,variant:"contained",endIcon:e(L,{}),sx:{mb:1},children:e(D,{variant:"body2",component:"span",sx:{fontSize:"1rem"},children:"Submit"})})]})}),e(G,{item:!0,xs:12,sm:12,md:6,lg:9,xl:9,sx:{pl:"0 !important"},children:h(v,{spacing:2,children:[e(T,{title:"Result",icon:"icon-fullScreen"}),r&&h(k,{children:[e(H,{GoResult:a.goResult}),e(W,{GoResult:a.goResult})]})]})})]})]})}const Se=R(J);export{Se as default};
