import{c as w}from"./@babel.d3038ccc.js";var G={exports:{}};(function(q,k){(function(D,d){q.exports=d()})(w,function(){function D(t,i,n,a,r){(function o(e,h,s,l,f){for(;l>s;){if(l-s>600){var m=l-s+1,u=h-s+1,B=Math.log(m),x=.5*Math.exp(2*B/3),g=.5*Math.sqrt(B*x*(m-x)/m)*(u-m/2<0?-1:1),X=Math.max(s,Math.floor(h-u*x/m+g)),P=Math.min(l,Math.floor(h+(m-u)*x/m+g));o(e,h,X,P,f)}var E=e[h],y=s,p=l;for(d(e,s,h),f(e[l],E)>0&&d(e,s,l);y<p;){for(d(e,y,p),y++,p--;f(e[y],E)<0;)y++;for(;f(e[p],E)>0;)p--}f(e[s],E)===0?d(e,s,p):d(e,++p,l),p<=h&&(s=p+1),h<=p&&(l=p-1)}})(t,i,n||0,a||t.length-1,r||A)}function d(t,i,n){var a=t[i];t[i]=t[n],t[n]=a}function A(t,i){return t<i?-1:t>i?1:0}var c=function(t){t===void 0&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function I(t,i,n){if(!n)return i.indexOf(t);for(var a=0;a<i.length;a++)if(n(t,i[a]))return a;return-1}function v(t,i){Y(t,0,t.children.length,i,t)}function Y(t,i,n,a,r){r||(r=M(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=i;o<n;o++){var e=t.children[o];_(r,t.leaf?a(e):e)}return r}function _(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function J(t,i){return t.minX-i.minX}function N(t,i){return t.minY-i.minY}function O(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function S(t){return t.maxX-t.minX+(t.maxY-t.minY)}function j(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function b(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function M(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(t,i,n,a,r){for(var o=[i,n];o.length;)if(!((n=o.pop())-(i=o.pop())<=a)){var e=i+Math.ceil((n-i)/a/2)*a;D(t,e,i,n,r),o.push(i,e,e,n)}}return c.prototype.all=function(){return this._all(this.data,[])},c.prototype.search=function(t){var i=this.data,n=[];if(!b(t,i))return n;for(var a=this.toBBox,r=[];i;){for(var o=0;o<i.children.length;o++){var e=i.children[o],h=i.leaf?a(e):e;b(t,h)&&(i.leaf?n.push(e):j(t,h)?this._all(e,n):r.push(e))}i=r.pop()}return n},c.prototype.collides=function(t){var i=this.data;if(!b(t,i))return!1;for(var n=[];i;){for(var a=0;a<i.children.length;a++){var r=i.children[a],o=i.leaf?this.toBBox(r):r;if(b(t,o)){if(i.leaf||j(t,o))return!0;n.push(r)}}i=n.pop()}return!1},c.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var a=this.data;this.data=n,n=a}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},c.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},c.prototype.clear=function(){return this.data=M([]),this},c.prototype.remove=function(t,i){if(!t)return this;for(var n,a,r,o=this.data,e=this.toBBox(t),h=[],s=[];o||h.length;){if(o||(o=h.pop(),a=h[h.length-1],n=s.pop(),r=!0),o.leaf){var l=I(t,o.children,i);if(l!==-1)return o.children.splice(l,1),h.push(o),this._condense(h),this}r||o.leaf||!j(o,e)?a?(n++,o=a.children[n],r=!1):o=null:(h.push(o),s.push(n),n=0,a=o,o=o.children[0])}return this},c.prototype.toBBox=function(t){return t},c.prototype.compareMinX=function(t,i){return t.minX-i.minX},c.prototype.compareMinY=function(t,i){return t.minY-i.minY},c.prototype.toJSON=function(){return this.data},c.prototype.fromJSON=function(t){return this.data=t,this},c.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},c.prototype._build=function(t,i,n,a){var r,o=n-i+1,e=this._maxEntries;if(o<=e)return v(r=M(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(o)/Math.log(e)),e=Math.ceil(o/Math.pow(e,a-1))),(r=M([])).leaf=!1,r.height=a;var h=Math.ceil(o/e),s=h*Math.ceil(Math.sqrt(e));R(t,i,n,s,this.compareMinX);for(var l=i;l<=n;l+=s){var f=Math.min(l+s-1,n);R(t,l,f,h,this.compareMinY);for(var m=l;m<=f;m+=h){var u=Math.min(m+h-1,f);r.children.push(this._build(t,m,u,a-1))}}return v(r,this.toBBox),r},c.prototype._chooseSubtree=function(t,i,n,a){for(;a.push(i),!i.leaf&&a.length-1!==n;){for(var r=1/0,o=1/0,e=void 0,h=0;h<i.children.length;h++){var s=i.children[h],l=O(s),f=(m=t,u=s,(Math.max(u.maxX,m.maxX)-Math.min(u.minX,m.minX))*(Math.max(u.maxY,m.maxY)-Math.min(u.minY,m.minY))-l);f<o?(o=f,r=l<r?l:r,e=s):f===o&&l<r&&(r=l,e=s)}i=e||i.children[0]}var m,u;return i},c.prototype._insert=function(t,i,n){var a=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(a,this.data,i,r);for(o.children.push(t),_(o,a);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(a,r,i)},c.prototype._split=function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var o=this._chooseSplitIndex(n,r,a),e=M(n.children.splice(o,n.children.length-o));e.height=n.height,e.leaf=n.leaf,v(n,this.toBBox),v(e,this.toBBox),i?t[i-1].children.push(e):this._splitRoot(n,e)},c.prototype._splitRoot=function(t,i){this.data=M([t,i]),this.data.height=t.height+1,this.data.leaf=!1,v(this.data,this.toBBox)},c.prototype._chooseSplitIndex=function(t,i,n){for(var a,r,o,e,h,s,l,f=1/0,m=1/0,u=i;u<=n-i;u++){var B=Y(t,0,u,this.toBBox),x=Y(t,u,n,this.toBBox),g=(r=B,o=x,e=void 0,h=void 0,s=void 0,l=void 0,e=Math.max(r.minX,o.minX),h=Math.max(r.minY,o.minY),s=Math.min(r.maxX,o.maxX),l=Math.min(r.maxY,o.maxY),Math.max(0,s-e)*Math.max(0,l-h)),X=O(B)+O(x);g<f?(f=g,a=u,m=X<m?X:m):g===f&&X<m&&(m=X,a=u)}return a||n-i},c.prototype._chooseSplitAxis=function(t,i,n){var a=t.leaf?this.compareMinX:J,r=t.leaf?this.compareMinY:N;this._allDistMargin(t,i,n,a)<this._allDistMargin(t,i,n,r)&&t.children.sort(a)},c.prototype._allDistMargin=function(t,i,n,a){t.children.sort(a);for(var r=this.toBBox,o=Y(t,0,i,r),e=Y(t,n-i,n,r),h=S(o)+S(e),s=i;s<n-i;s++){var l=t.children[s];_(o,t.leaf?r(l):l),h+=S(o)}for(var f=n-i-1;f>=i;f--){var m=t.children[f];_(e,t.leaf?r(m):m),h+=S(e)}return h},c.prototype._adjustParentBBoxes=function(t,i,n){for(var a=n;a>=0;a--)_(i[a],t)},c.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)t[i].children.length===0?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():v(t[i],this.toBBox)},c})})(G);export{G as r};
