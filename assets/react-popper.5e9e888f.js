import{r as s}from"./react.9f8bb2ca.js";import{r as S}from"./react-dom.55372f0a.js";import{r as F}from"./react-fast-compare.6ca799e7.js";import{c as P}from"./@popperjs.bc85b236.js";var v=function(u){return u.reduce(function(n,t){var o=t[0],e=t[1];return n[o]=e,n},{})},b=typeof window<"u"&&window.document&&window.document.createElement?s.exports.useLayoutEffect:s.exports.useEffect,U=[],R=function(u,n,t){t===void 0&&(t={});var o=s.exports.useRef(null),e={onFirstUpdate:t.onFirstUpdate,placement:t.placement||"bottom",strategy:t.strategy||"absolute",modifiers:t.modifiers||U},l=s.exports.useState({styles:{popper:{position:e.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),m=l[0],x=l[1],d=s.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(i){var f=i.state,y=Object.keys(f.elements);S.exports.flushSync(function(){x({styles:v(y.map(function(p){return[p,f.styles[p]||{}]})),attributes:v(y.map(function(p){return[p,f.attributes[p]]}))})})},requires:["computeStyles"]}},[]),c=s.exports.useMemo(function(){var a={onFirstUpdate:e.onFirstUpdate,placement:e.placement,strategy:e.strategy,modifiers:[].concat(e.modifiers,[d,{name:"applyStyles",enabled:!1}])};return F(o.current,a)?o.current||a:(o.current=a,a)},[e.onFirstUpdate,e.placement,e.strategy,e.modifiers,d]),r=s.exports.useRef();return b(function(){r.current&&r.current.setOptions(c)},[c]),b(function(){if(!(u==null||n==null)){var a=t.createPopper||P,i=a(u,n,c);return r.current=i,function(){i.destroy(),r.current=null}}},[u,n,t.createPopper]),{state:r.current?r.current.state:null,styles:m.styles,attributes:m.attributes,update:r.current?r.current.update:null,forceUpdate:r.current?r.current.forceUpdate:null}};export{R as u};
