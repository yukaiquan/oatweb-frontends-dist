var w={},x,q;function k(){if(q)return x;q=1;var v,r,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},g;function a(n){throw{name:"SyntaxError",message:n,at:v,text:g}}function e(n){return n&&n!==r&&a("Expected '"+n+"' instead of '"+r+"'"),r=g.charAt(v),v+=1,r}function y(){var n,t="";for(r==="-"&&(t="-",e("-"));r>="0"&&r<="9";)t+=r,e();if(r===".")for(t+=".";e()&&r>="0"&&r<="9";)t+=r;if(r==="e"||r==="E")for(t+=r,e(),(r==="-"||r==="+")&&(t+=r,e());r>="0"&&r<="9";)t+=r,e();return n=Number(t),isFinite(n)||a("Bad number"),n}function s(){var n,t,i="",b;if(r==='"')for(;e();){if(r==='"')return e(),i;if(r==="\\")if(e(),r==="u"){for(b=0,t=0;t<4&&(n=parseInt(e(),16),!!isFinite(n));t+=1)b=b*16+n;i+=String.fromCharCode(b)}else if(typeof p[r]=="string")i+=p[r];else break;else i+=r}a("Bad string")}function f(){for(;r&&r<=" ";)e()}function u(){switch(r){case"t":return e("t"),e("r"),e("u"),e("e"),!0;case"f":return e("f"),e("a"),e("l"),e("s"),e("e"),!1;case"n":return e("n"),e("u"),e("l"),e("l"),null;default:a("Unexpected '"+r+"'")}}function o(){var n=[];if(r==="["){if(e("["),f(),r==="]")return e("]"),n;for(;r;){if(n.push(l()),f(),r==="]")return e("]"),n;e(","),f()}}a("Bad array")}function c(){var n,t={};if(r==="{"){if(e("{"),f(),r==="}")return e("}"),t;for(;r;){if(n=s(),f(),e(":"),Object.prototype.hasOwnProperty.call(t,n)&&a('Duplicate key "'+n+'"'),t[n]=l(),f(),r==="}")return e("}"),t;e(","),f()}}a("Bad object")}function l(){switch(f(),r){case"{":return c();case"[":return o();case'"':return s();case"-":return y();default:return r>="0"&&r<="9"?y():u()}}return x=function(n,t){var i;return g=n,v=0,r=" ",i=l(),f(),r&&a("Syntax error"),typeof t=="function"?function b(S,O){var d,j,h=S[O];if(h&&typeof h=="object")for(d in l)Object.prototype.hasOwnProperty.call(h,d)&&(j=b(h,d),typeof j>"u"?delete h[d]:h[d]=j);return t.call(S,O,h)}({"":i},""):i},x}var m,J;function B(){if(J)return m;J=1;var v=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r,p,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function e(s){return v.lastIndex=0,v.test(s)?'"'+s.replace(v,function(f){var u=g[f];return typeof u=="string"?u:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function y(s,f){var u,o,c,l,n=r,t,i=f[s];switch(i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(s)),typeof a=="function"&&(i=a.call(f,s,i)),typeof i){case"string":return e(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(r+=p,t=[],Object.prototype.toString.apply(i)==="[object Array]"){for(l=i.length,u=0;u<l;u+=1)t[u]=y(u,i)||"null";return c=t.length===0?"[]":r?`[
`+r+t.join(`,
`+r)+`
`+n+"]":"["+t.join(",")+"]",r=n,c}if(a&&typeof a=="object")for(l=a.length,u=0;u<l;u+=1)o=a[u],typeof o=="string"&&(c=y(o,i),c&&t.push(e(o)+(r?": ":":")+c));else for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(c=y(o,i),c&&t.push(e(o)+(r?": ":":")+c));return c=t.length===0?"{}":r?`{
`+r+t.join(`,
`+r)+`
`+n+"}":"{"+t.join(",")+"}",r=n,c}}return m=function(s,f,u){var o;if(r="",p="",typeof u=="number")for(o=0;o<u;o+=1)p+=" ";else typeof u=="string"&&(p=u);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return y("",{"":s})},m}var P;function E(){return P||(P=1,w.parse=k(),w.stringify=B()),w}export{E as r};
