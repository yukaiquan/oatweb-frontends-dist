import{r as p}from"./react.9f8bb2ca.js";import{o as R}from"./mobx-react.2a8c917b.js";import{u as V}from"./index.4faa1368.js";import{c as z,a as e,F as G,J as E,j as r}from"./@jbrowse.1c1f30ba.js";import{I as v,S as F}from"./index.5427e0da.js";import"./react-wordcloud.baf87427.js";import"./tippy.js.1d5f9674.js";import{S as J,P as K}from"./PapersCiteCard.1248bdf2.js";import"./react-photo-view.923f7cb9.js";/* empty css                    */import"./buffer.66f81d03.js";import"./buffer-crc32.64f36e84.js";import"./set-value.9a248538.js";import L from"./NotFindPage.97a77046.js";import{c as U,a as q}from"./react-router.61103ab6.js";import{bP as w,ch as j,cj as B,q as i,c7 as s,bQ as a,d9 as l,bo as x,bS as W,P as M,bT as Q,bU as X,bV as I,bW as o,bX as Y,cT as Z}from"./@mui.d95a2776.js";import"./@babel.d3038ccc.js";import"./mobx.82db3864.js";import"./rollup-plugin-node-polyfills.285eab2e.js";import"./mobx-react-lite.1bfe1eb4.js";import"./react-dom.55372f0a.js";import"./scheduler.f16d5006.js";import"./react-router-dom.66b1527d.js";import"./@remix-run.a4d7d1fc.js";import"./axios.875095ff.js";import"./form-data.d1f94bc2.js";import"./@gmod.89422c98.js";import"./abortable-promise-cache.7cb58d6d.js";import"./abortcontroller-polyfill.e0408538.js";import"./quick-lru.2e8f10dc.js";import"./pako.ae457f40.js";import"./@jkbonfield.580cc4c5.js";import"./bzip2.7acc0326.js";import"./md5.e4ed9555.js";import"./crypt.894faad3.js";import"./charenc.26816e87.js";import"./is-buffer.30be6946.js";import"./long.81b4bfdc.js";import"./cross-fetch.5e5fd403.js";import"./generic-filehandle.a92b52fd.js";import"./object.entries-ponyfill.1bb02ccd.js";import"./binary-parser.62cc4542.js";import"./rxjs.bbb58625.js";import"./stream-browserify.c9806a5a.js";import"./readable-stream.b9ecb3ea.js";import"./inherits.0b103347.js";import"./string_decoder.54c7d31f.js";import"./safe-buffer.d6407320.js";import"./util-deprecate.7e67cde4.js";import"./echarts.af56a0c2.js";import"./zrender.d2a2db01.js";import"./tslib.60310f1a.js";import"./react-use.dd3eab68.js";import"./copy-to-clipboard.eb25ebbd.js";import"./toggle-selection.b84dd588.js";import"./mobx-state-tree.86fcbbc7.js";import"./fast-deep-equal.a94972be.js";import"./get-value.d7d31411.js";import"./isobject.df66a4ce.js";import"./tss-react.d823a444.js";import"./@emotion.97d8af27.js";import"./stylis.471761e6.js";import"./hoist-non-react-statics.7be3bd10.js";import"./react-use-measure.c76e41e7.js";import"./debounce.db2fda29.js";import"./json-stable-stringify.0a3208a5.js";import"./jsonify.125a2c45.js";import"./prop-types.ed5ed641.js";import"./rbush.c53ead3c.js";import"./canvas-sequencer.89cdaa84.js";import"./canvas2svg.bb21c42d.js";import"./clone.12982bcb.js";import"./librpc-web-mod.114fca1e.js";import"./@librpc.077300ae.js";import"./serialize-error.2d78dd57.js";import"./shortid.ae0851a5.js";import"./d3-scale.b5c2ec72.js";import"./react-popper.5e9e888f.js";import"./react-fast-compare.6ca799e7.js";import"./@popperjs.bc85b236.js";import"./file-saver.1b7919eb.js";import"./react-error-boundary.5999f6e6.js";import"./material-ui-popup-state.2f0cd738.js";import"./normalize-wheel.08b32984.js";import"./react-d3-axis-mod.e8c27339.js";import"./load-script2.e50455fe.js";import"./react-draggable.a41929d4.js";import"./clsx.33a47233.js";import"./color.b8402d12.js";import"./color-string.6cf0e789.js";import"./color-name.e7a4e1d3.js";import"./simple-swizzle.bbda63e1.js";import"./is-arrayish.e606b633.js";import"./color-convert.69e17089.js";import"./@flatten-js.f79d6531.js";import"./pluralize.4d99efd8.js";import"./react-virtualized-auto-sizer.ca6237cd.js";import"./react-vtree.cc427872.js";import"./react-window.8464caa7.js";import"./memoize-one.38c86d42.js";import"./react-merge-refs.1793fef1.js";import"./detect-node.cdefd8ba.js";import"./http-range-fetcher.fcdfd695.js";import"./window-or-global.776535f1.js";import"./deepmerge.d048be44.js";import"./is-object.da397113.js";import"./escape-html.e5dfadb9.js";import"./dompurify.a6c1e8f6.js";import"./react-intersection-observer.8cfb7c97.js";import"./jexl.58bb62c6.js";import"./react-is.0322be43.js";import"./reselect.bd965e1c.js";import"./react-transition-group.095bf55b.js";import"./lodash.debounce.13769b0a.js";import"./resize-observer-polyfill.6a0cacef.js";import"./d3-cloud.fef403d3.js";import"./lodash.clonedeep.2bb591f8.js";import"./seedrandom.0aa0ec75.js";import"./base64-js.db0f5df9.js";import"./ieee754.6e84f04f.js";import"./is-primitive.a4f13848.js";import"./is-plain-object.963f95c0.js";const ee=c=>{const{location:n,assembly:D,tracks:k,defaultSession:d}=c,[m,S]=p.exports.useState(),[P,g]=p.exports.useState("");p.exports.useState("");const h={theme:{palette:{primary:{main:"#311b92"},secondary:{main:"#0097a7"},tertiary:{main:"#f57c00"},quaternary:{main:"#d50000"}}},logoPath:{uri:"<%= BASE_URL %>favicon.ico"},rpc:{name:"JBrowse2-OATBioDatabase",endpoint:"http://www.waooat.cn",timeout:3e4,defaultFetchInit:{credentials:"include"}}};return p.exports.useImperativeHandle(c.changeRef,()=>({viewState:m})),p.exports.useEffect(()=>{const u=setTimeout(()=>{const _=z({assembly:D,tracks:k,configuration:h,location:n,onChange:b=>{g(f=>f+JSON.stringify(b)+`
`)},defaultSession:d});S(_)},500);return()=>clearTimeout(u)},[D,k,d]),m?e(G,{children:e(E,{viewState:m})}):null};function te(){var g,h,u,_,b,f,T,A,$,N,H,O;const{id:c}=U();if(q(),!c||isNaN(Number(c)))return e(L,{});const{geneStore:n,jbrowseStore:D,genomeStore:k}=V();p.exports.useEffect(()=>{n.getGeneDetail(Number(c))},[]);const d=(t,y,C)=>{t&&((C==null?void 0:C.indexOf("BR"))!==-1?(t=t.replace("ko","br:"),window.open(`https://www.kegg.jp/entry/${t}`)):(t=t.replace("ko","map"),window.open(`https://www.genome.jp/pathway/${t}+${y}`)))},m=t=>{window.open(`https://www.uniprot.org/uniprot/${t}`)},S=t=>{window.open(`https://www.ncbi.nlm.nih.gov/search/all/?term=${t}`)},P=t=>{t=t==null?void 0:t.replace(":","%3A"),window.open(`http://amigo.geneontology.org/amigo/medial_search?q=${t}&searchtype=all`)};return p.exports.useState(!1),p.exports.useState(!1),e(G,{children:r(w,{container:!0,spacing:1,className:"bgGray",sx:{mb:1,mt:0},children:[r(w,{item:!0,xs:12,sm:6,md:4,lg:4,xl:4,sx:{pl:"0 !important"},children:[e(j,{sx:{mb:1},children:r(B,{children:[r(i,{variant:"h5",align:"left",children:[e(v,{type:"icon-yanmai-copy"}),"Genome: ",e(i,{component:"span",variant:"h6",color:"text.secondary",children:e(s,{href:n.geneDetail.genome_link,underline:"none",children:n.geneDetail.genome_name})})]}),r(i,{variant:"h5",align:"left",children:[e(v,{type:"icon-bianhao"}),"Gene Name: ",e(i,{component:"span",variant:"h6",color:"text.secondary",children:n.geneDetail.gene_name})]}),r(i,{variant:"h5",align:"left",children:["Position: ",r(i,{component:"span",variant:"h6",color:"text.secondary",children:[n.geneDetail.chr,":",n.geneDetail.start,"-",n.geneDetail.stop]})]}),r(i,{variant:"h5",align:"left",children:["Strand: ",e(i,{component:"span",variant:"h6",color:"text.secondary",children:n.geneDetail.strand})]}),r(i,{variant:"h5",align:"left",children:["Length: ",e(i,{component:"span",variant:"h6",color:"text.secondary",children:n.geneDetail.gene_all_length})]})]})}),e(ee,{tracks:n.getGff3(),assembly:n.getAssembly(),location:`${n.geneDetail.chr}:${n.geneDetail.start-500}-${n.geneDetail.stop+500}`,defaultSession:n.getDefaultSession(130,!0,!1,!0,"hierarchical","hidden",!1,!0,!1)})]}),e(w,{item:!0,xs:12,sm:6,md:8,lg:8,xl:8,children:e(j,{children:r(B,{children:[r(i,{variant:"h5",align:"right",children:[e(v,{type:"icon-time"}),r(i,{component:"span",variant:"body2",color:"text.secondary",children:[" ",n.geneDetail.updated_time]})]}),((g=n.geneDetail.ncbi)==null?void 0:g.nr_id)&&r(i,{variant:"h5",align:"left",children:[e(a,{children:e(l,{label:"NR"})}),r(i,{component:"span",variant:"h6",color:"text.secondary",children:[(h=n.geneDetail.ncbi)==null?void 0:h.nr_id," ",(u=n.geneDetail.ncbi)==null?void 0:u.nr_annotation," "]}),e(x,{variant:"outlined",size:"small",onClick:()=>{var t;return S((t=n.geneDetail.ncbi)==null?void 0:t.nr_id)},children:" NCBI"})]}),n.geneDetail.uniport_id&&r(i,{variant:"h5",align:"left",children:[e(a,{children:e(l,{label:"UNIPROT"})}),r(i,{component:"span",variant:"h6",color:"text.secondary",children:[n.geneDetail.uniport_id," "]}),e(x,{variant:"outlined",size:"small",onClick:()=>m(n.geneDetail.uniport_id),children:" Uniprot"})]}),((_=n.geneDetail.kog_id)==null?void 0:_.kog_id)&&r(i,{variant:"h5",align:"left",children:[e(a,{children:e(l,{label:"KOG"})}),r(i,{component:"span",variant:"h6",color:"text.secondary",children:[" ",(b=n.geneDetail.kog_id)==null?void 0:b.kog_id," | ",(f=n.geneDetail.kog_id)==null?void 0:f.kog_class," | ",(T=n.geneDetail.kog_id)==null?void 0:T.kog_annotation]})]}),((A=n.geneDetail.kegg_k)==null?void 0:A.kegg_k)&&r(i,{variant:"h5",align:"left",children:[e(a,{children:e(l,{label:"KEGG"})}),r(i,{component:"span",variant:"h6",color:"text.secondary",children:[" K ID: ",n.geneDetail.kegg_k.kegg_k," | Annotation: ",n.geneDetail.kegg_k.k_annotation]})]}),(($=n.geneDetail.kegg_k)==null?void 0:$.kegg_pathway)&&((N=n.geneDetail.kegg_k)==null?void 0:N.kegg_pathway.map(t=>e(i,{variant:"h5",align:"left",children:r(i,{component:"span",variant:"h6",color:"text.secondary",children:[" KEGG Pathway: ",t.kegg_pathway," | ",t.pathway_annotation," ",e(x,{variant:"outlined",size:"small",onClick:()=>{var y;return d(t.kegg_pathway,(y=n.geneDetail.kegg_k)==null?void 0:y.kegg_k,t.pathway_annotation)},children:"View"})]})},t.kegg_pathway))),((H=n.geneDetail.gene2go_set)==null?void 0:H.length)>0&&r(i,{variant:"h5",align:"left",children:[e(a,{children:e(l,{label:"GO"})}),(O=n.geneDetail.gene2go_set)==null?void 0:O.map(t=>r(i,{component:"p",variant:"h6",color:"text.secondary",children:[" ",t.go_id.go_id," | ",t.go_id.go_class," | ",t.go_id.go_annotation," ",e(x,{variant:"outlined",size:"small",onClick:()=>P(t.go_id.go_id),children:"View"})," "]},t.go_id.go_id))]}),n.pfmAnnotation.length>0&&r(G,{children:[e(a,{sx:{mt:1},children:e(l,{label:"Pfm Annotation"})}),e(W,{component:M,children:r(Q,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[e(X,{children:r(I,{children:[e(o,{children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"Accession"})}),e(o,{align:"right",children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"Pfm name"})}),e(o,{align:"right",children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"evalue"})}),e(o,{align:"right",children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"score"})}),e(o,{align:"right",children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"start"})}),e(o,{align:"right",children:e(i,{component:"span",variant:"body2",color:"text.secondary",children:"end"})})]})}),e(Y,{children:n.pfmAnnotation.map(t=>r(I,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e(o,{component:"th",scope:"row",children:e(s,{href:`https://www.ebi.ac.uk/interpro/entry/pfam/${t.pfm_accession.split(".")[0]}/`,underline:"none",target:"_blank",rel:"noopener",children:t.pfm_accession})}),e(o,{align:"right",children:t.pfm_name}),e(o,{align:"right",children:t.pfm_evalue}),e(o,{align:"right",children:t.pfm_score}),e(o,{align:"right",children:t.math_start}),e(o,{align:"right",children:t.math_end})]},t.id))})]})})]}),n.geneHomo&&e(i,{variant:"h5",align:"left",children:r(Z,{children:[e(a,{textAlign:"left",children:e(l,{label:"Plant Model Organism Orthologous Group "})}),n.geneHomo.tair_id?n.geneHomo.tair_id.map(t=>r(i,{component:"p",variant:"body1",color:"text.secondary",children:["Arabidopsis:",e(s,{target:"_blank",rel:"noopener",href:`https://www.arabidopsis.org/servlets/TairObject?type=locus&name=${t}`,underline:"none",children:t})]},t)):null,n.geneHomo.o_sativa_id?n.geneHomo.o_sativa_id.map(t=>r(i,{component:"p",variant:"body1",color:"text.secondary",children:["Rice:",e(s,{target:"_blank",rel:"noopener",href:`http://rice.uga.edu/cgi-bin/ORF_infopage.cgi?orf=${t}`,underline:"none",children:t})]},t)):null,n.geneHomo.iwgsc_id?n.geneHomo.iwgsc_id.map(t=>r(i,{component:"p",variant:"body1",color:"text.secondary",children:["Wheat:",e(s,{target:"_blank",rel:"noopener",href:`http://wheatomics.sdau.edu.cn/cgi-bin/geneDetail.py?search=${t}`,underline:"none",children:t})]},t)):null]})}),r(i,{variant:"h5",align:"left",children:[e(a,{textAlign:"left",children:e(l,{label:"Avena Orthologous Group"})}),n.oatHomo.sativa_id&&n.oatHomo.sativa_id.map(t=>e(i,{component:"p",variant:"body1",color:"text.secondary",children:e(s,{href:`/gene/?name=${t}`,underline:"none",children:t})},t))||null]}),e(a,{children:e(l,{label:"Detail"})}),r(i,{variant:"h5",align:"left",children:[e(v,{type:"icon-yuanxiaojianjie"}),n.geneDesc.gene_description&&e("div",{dangerouslySetInnerHTML:{__html:n.geneDesc.gene_description}}),r(i,{component:"p",variant:"h6",color:"text.secondary",textAlign:"right",children:[" ",n.geneDetail.gene_desc]})]})]})})}),r(w,{item:!0,xs:12,sx:{pl:"0 !important"},children:[e(F,{title:"Paper Cite",icon:"icon-lunwen"}),e(J,{id:1,title:n.geneDetail.gene_name,gb_t7714:n.geneDetail.gb_t7714}),n.geneDesc.paper_cite&&e(K,{inlist:n.geneDesc.paperlist})]})]})})}const bn=R(te);export{bn as default};
