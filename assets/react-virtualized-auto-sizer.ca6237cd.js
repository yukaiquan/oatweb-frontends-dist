import{g as k}from"./rollup-plugin-node-polyfills.285eab2e.js";import{r as O}from"./react.9f8bb2ca.js";var D=function(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")},j=function(){function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&a(t.prototype,n),r&&a(t,r),t}}(),q=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},M=function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)},W=function(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a},P=function(){function a(t,n){var r=[],i=!0,h=!1,c=void 0;try{for(var u=t[Symbol.iterator](),l;!(i=(l=u.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(f){h=!0,c=f}finally{try{!i&&u.return&&u.return()}finally{if(h)throw c}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return a(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=void 0;typeof window<"u"?d=window:typeof self<"u"?d=self:d=k;var S=null,A=null,x=20,R=d.clearTimeout,C=d.setTimeout,N=d.cancelAnimationFrame||d.mozCancelAnimationFrame||d.webkitCancelAnimationFrame,H=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame;N==null||H==null?(S=R,A=function(t){return C(t,x)}):(S=function(t){var n=P(t,2),r=n[0],i=n[1];N(r),R(i)},A=function(t){var n=H(function(){R(r),t()}),r=C(function(){N(n),t()},x);return[n,r]});function U(a){var t=void 0,n=void 0,r=void 0,i=void 0,h=void 0,c=void 0,u=void 0,l=typeof document<"u"&&document.attachEvent;if(!l){c=function(e){var s=e.__resizeTriggers__,o=s.firstElementChild,_=s.lastElementChild,y=o.firstElementChild;_.scrollLeft=_.scrollWidth,_.scrollTop=_.scrollHeight,y.style.width=o.offsetWidth+1+"px",y.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},h=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},u=function(e){if(!(e.target.className&&typeof e.target.className.indexOf=="function"&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var s=this;c(this),this.__resizeRAF__&&S(this.__resizeRAF__),this.__resizeRAF__=A(function(){h(s)&&(s.__resizeLast__.width=s.offsetWidth,s.__resizeLast__.height=s.offsetHeight,s.__resizeListeners__.forEach(function(y){y.call(s,e)}))})}};var f=!1,p="";r="animationstart";var z="Webkit Moz O ms".split(" "),w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="";{var m=document.createElement("fakeelement");if(m.style.animationName!==void 0&&(f=!0),f===!1){for(var g=0;g<z.length;g++)if(m.style[z[g]+"AnimationName"]!==void 0){v=z[g],p="-"+v.toLowerCase()+"-",r=w[g],f=!0;break}}}n="resizeanim",t="@"+p+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+n+"; "}var E=function(e){if(!e.getElementById("detectElementResize")){var s=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],_=e.createElement("style");_.id="detectElementResize",_.type="text/css",a!=null&&_.setAttribute("nonce",a),_.styleSheet?_.styleSheet.cssText=s:_.appendChild(e.createTextNode(s)),o.appendChild(_)}},L=function(e,s){if(l)e.attachEvent("onresize",s);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,_=d.getComputedStyle(e);_&&_.position==="static"&&(e.style.position="relative"),E(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var y=o.createElement("div");y.className="expand-trigger",y.appendChild(o.createElement("div"));var F=o.createElement("div");F.className="contract-trigger",e.__resizeTriggers__.appendChild(y),e.__resizeTriggers__.appendChild(F),e.appendChild(e.__resizeTriggers__),c(e),e.addEventListener("scroll",u,!0),r&&(e.__resizeTriggers__.__animationListener__=function(I){I.animationName===n&&c(e)},e.__resizeTriggers__.addEventListener(r,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(s)}},T=function(e,s){if(l)e.detachEvent("onresize",s);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(s),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch{}}};return{addResizeListener:L,removeResizeListener:T}}var V=function(a){M(t,a);function t(){var n,r,i,h;D(this,t);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return h=(r=(i=W(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),i),i.state={height:i.props.defaultHeight||0,width:i.props.defaultWidth||0},i._onResize=function(){var f=i.props,p=f.disableHeight,z=f.disableWidth,w=f.onResize;if(i._parentNode){var v=i._parentNode.offsetHeight||0,m=i._parentNode.offsetWidth||0,g=window.getComputedStyle(i._parentNode)||{},E=parseInt(g.paddingLeft,10)||0,L=parseInt(g.paddingRight,10)||0,T=parseInt(g.paddingTop,10)||0,b=parseInt(g.paddingBottom,10)||0,e=v-T-b,s=m-E-L;(!p&&i.state.height!==e||!z&&i.state.width!==s)&&(i.setState({height:v-T-b,width:m-E-L}),w({height:v,width:m}))}},i._setRef=function(f){i._autoSizer=f},r),W(i,h)}return j(t,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=U(r),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,i=r.children,h=r.className,c=r.disableHeight,u=r.disableWidth,l=r.style,f=this.state,p=f.height,z=f.width,w={overflow:"visible"},v={},m=!1;return c||(p===0&&(m=!0),w.height=0,v.height=p),u||(z===0&&(m=!0),w.width=0,v.width=z),O.exports.createElement("div",{className:h,ref:this._setRef,style:q({},w,l)},!m&&i(v))}}]),t}(O.exports.PureComponent);V.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};export{V as A};
