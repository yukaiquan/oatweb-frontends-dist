import{_ as Je,L as q}from"./@gmod.89422c98.js";import{g as Qe,c as Ve}from"./@babel.d3038ccc.js";import{b as Ae}from"./buffer.66f81d03.js";import{i as z}from"./inherits.0b103347.js";import{s as De}from"./string_decoder.54c7d31f.js";import{r as Ze}from"./util-deprecate.7e67cde4.js";const ie=Qe(Je);var ce,Pe;function Ye(){return Pe||(Pe=1,ce=ie.EventEmitter),ce}var _e,Ne;function et(){if(Ne)return _e;Ne=1;function M(o,h){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);h&&(c=c.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),l.push.apply(l,c)}return l}function m(o){for(var h=1;h<arguments.length;h++){var l=arguments[h]!=null?arguments[h]:{};h%2?M(Object(l),!0).forEach(function(c){R(o,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):M(Object(l)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(l,c))})}return o}function R(o,h,l){return h in o?Object.defineProperty(o,h,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[h]=l,o}function O(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function A(o,h){for(var l=0;l<h.length;l++){var c=h[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}function s(o,h,l){return h&&A(o.prototype,h),l&&A(o,l),o}var b=Ae,a=b.Buffer,n=ie,d=n.inspect,_=d&&d.custom||"inspect";function g(o,h,l){a.prototype.copy.call(o,h,l)}return _e=function(){function o(){O(this,o),this.head=null,this.tail=null,this.length=0}return s(o,[{key:"push",value:function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var c=this.head,v=""+c.data;c=c.next;)v+=l+c.data;return v}},{key:"concat",value:function(l){if(this.length===0)return a.alloc(0);for(var c=a.allocUnsafe(l>>>0),v=this.head,S=0;v;)g(v.data,c,S),S+=v.data.length,v=v.next;return c}},{key:"consume",value:function(l,c){var v;return l<this.head.data.length?(v=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):l===this.head.data.length?v=this.shift():v=c?this._getString(l):this._getBuffer(l),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var c=this.head,v=1,S=c.data;for(l-=S.length;c=c.next;){var y=c.data,w=l>y.length?y.length:l;if(w===y.length?S+=y:S+=y.slice(0,l),l-=w,l===0){w===y.length?(++v,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=y.slice(w));break}++v}return this.length-=v,S}},{key:"_getBuffer",value:function(l){var c=a.allocUnsafe(l),v=this.head,S=1;for(v.data.copy(c),l-=v.data.length;v=v.next;){var y=v.data,w=l>y.length?y.length:l;if(y.copy(c,c.length-l,0,w),l-=w,l===0){w===y.length?(++S,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=y.slice(w));break}++S}return this.length-=S,c}},{key:_,value:function(l,c){return d(this,m({},c,{depth:0,customInspect:!1}))}}]),o}(),_e}var be,qe;function Ke(){if(qe)return be;qe=1;function M(b,a){var n=this,d=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return d||_?(a?a(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,q.nextTick(A,this,b)):q.nextTick(A,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(g){!a&&g?n._writableState?n._writableState.errorEmitted?q.nextTick(R,n):(n._writableState.errorEmitted=!0,q.nextTick(m,n,g)):q.nextTick(m,n,g):a?(q.nextTick(R,n),a(g)):q.nextTick(R,n)}),this)}function m(b,a){A(b,a),R(b)}function R(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function A(b,a){b.emit("error",a)}function s(b,a){var n=b._readableState,d=b._writableState;n&&n.autoDestroy||d&&d.autoDestroy?b.destroy(a):b.emit("error",a)}return be={destroy:M,undestroy:O,errorOrDestroy:s},be}var pe={},Ce;function Y(){if(Ce)return pe;Ce=1;function M(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n}var m={};function R(a,n,d){d||(d=Error);function _(o,h,l){return typeof n=="string"?n:n(o,h,l)}var g=function(o){M(h,o);function h(l,c,v){return o.call(this,_(l,c,v))||this}return h}(d);g.prototype.name=d.name,g.prototype.code=a,m[a]=g}function O(a,n){if(Array.isArray(a)){var d=a.length;return a=a.map(function(_){return String(_)}),d>2?"one of ".concat(n," ").concat(a.slice(0,d-1).join(", "),", or ")+a[d-1]:d===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}else return"of ".concat(n," ").concat(String(a))}function A(a,n,d){return a.substr(!d||d<0?0:+d,n.length)===n}function s(a,n,d){return(d===void 0||d>a.length)&&(d=a.length),a.substring(d-n.length,d)===n}function b(a,n,d){return typeof d!="number"&&(d=0),d+n.length>a.length?!1:a.indexOf(n,d)!==-1}return R("ERR_INVALID_OPT_VALUE",function(a,n){return'The value "'+n+'" is invalid for option "'+a+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(a,n,d){var _;typeof n=="string"&&A(n,"not ")?(_="must not be",n=n.replace(/^not /,"")):_="must be";var g;if(s(a," argument"))g="The ".concat(a," ").concat(_," ").concat(O(n,"type"));else{var o=b(a,".")?"property":"argument";g='The "'.concat(a,'" ').concat(o," ").concat(_," ").concat(O(n,"type"))}return g+=". Received type ".concat(typeof d),g},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),pe.codes=m,pe}var ge,Ie;function $e(){if(Ie)return ge;Ie=1;var M=Y().codes.ERR_INVALID_OPT_VALUE;function m(O,A,s){return O.highWaterMark!=null?O.highWaterMark:A?O[s]:null}function R(O,A,s,b){var a=m(A,b,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var n=b?s:"highWaterMark";throw new M(n,a)}return Math.floor(a)}return O.objectMode?16:16*1024}return ge={getHighWaterMark:R},ge}var ye,je;function tt(){if(je)return ye;je=1,ye=N;function M(i){var r=this;this.next=null,this.entry=null,this.finish=function(){ue(r,i)}}var m;N.WritableState=k;var R={deprecate:Ze()},O=Ye(),A=Ae.Buffer,s=Ve.Uint8Array||function(){};function b(i){return A.from(i)}function a(i){return A.isBuffer(i)||i instanceof s}var n=Ke(),d=$e(),_=d.getHighWaterMark,g=Y().codes,o=g.ERR_INVALID_ARG_TYPE,h=g.ERR_METHOD_NOT_IMPLEMENTED,l=g.ERR_MULTIPLE_CALLBACK,c=g.ERR_STREAM_CANNOT_PIPE,v=g.ERR_STREAM_DESTROYED,S=g.ERR_STREAM_NULL_VALUES,y=g.ERR_STREAM_WRITE_AFTER_END,w=g.ERR_UNKNOWN_ENCODING,T=n.errorOrDestroy;z.exports(N,O);function I(){}function k(i,r,u){m=m||X(),i=i||{},typeof u!="boolean"&&(u=r instanceof m),this.objectMode=!!i.objectMode,u&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=_(this,i,"writableHighWaterMark",u),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var E=i.decodeStrings===!1;this.decodeStrings=!E,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){fe(r,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}k.prototype.getBuffer=function(){for(var r=this.bufferedRequest,u=[];r;)u.push(r),r=r.next;return u},function(){try{Object.defineProperty(k.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(r){return W.call(this,r)?!0:this!==N?!1:r&&r._writableState instanceof k}})):W=function(r){return r instanceof this};function N(i){m=m||X();var r=this instanceof m;if(!r&&!W.call(N,this))return new N(i);this._writableState=new k(i,this,r),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),O.call(this)}N.prototype.pipe=function(){T(this,new c)};function D(i,r){var u=new y;T(i,u),q.nextTick(r,u)}function J(i,r,u,E){var P;return u===null?P=new S:typeof u!="string"&&!r.objectMode&&(P=new o("chunk",["string","Buffer"],u)),P?(T(i,P),q.nextTick(E,P),!1):!0}N.prototype.write=function(i,r,u){var E=this._writableState,P=!1,e=!E.objectMode&&a(i);return e&&!A.isBuffer(i)&&(i=b(i)),typeof r=="function"&&(u=r,r=null),e?r="buffer":r||(r=E.defaultEncoding),typeof u!="function"&&(u=I),E.ending?D(this,u):(e||J(this,E,i,u))&&(E.pendingcb++,P=ne(this,E,e,i,r,u)),P},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&F(this,i))},N.prototype.setDefaultEncoding=function(r){if(typeof r=="string"&&(r=r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((r+"").toLowerCase())>-1))throw new w(r);return this._writableState.defaultEncoding=r,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(i,r,u){return!i.objectMode&&i.decodeStrings!==!1&&typeof r=="string"&&(r=A.from(r,u)),r}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ne(i,r,u,E,P,e){if(!u){var t=K(r,E,P);E!==t&&(u=!0,P="buffer",E=t)}var f=r.objectMode?1:E.length;r.length+=f;var p=r.length<r.highWaterMark;if(p||(r.needDrain=!0),r.writing||r.corked){var j=r.lastBufferedRequest;r.lastBufferedRequest={chunk:E,encoding:P,isBuf:u,callback:e,next:null},j?j.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else U(i,r,!1,f,E,P,e);return p}function U(i,r,u,E,P,e,t){r.writelen=E,r.writecb=t,r.writing=!0,r.sync=!0,r.destroyed?r.onwrite(new v("write")):u?i._writev(P,r.onwrite):i._write(P,e,r.onwrite),r.sync=!1}function ae(i,r,u,E,P){--r.pendingcb,u?(q.nextTick(P,E),q.nextTick(B,i,r),i._writableState.errorEmitted=!0,T(i,E)):(P(E),i._writableState.errorEmitted=!0,T(i,E),B(i,r))}function Q(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function fe(i,r){var u=i._writableState,E=u.sync,P=u.writecb;if(typeof P!="function")throw new l;if(Q(u),r)ae(i,u,E,r,P);else{var e=ee(u)||i.destroyed;!e&&!u.corked&&!u.bufferProcessing&&u.bufferedRequest&&F(i,u),E?q.nextTick(x,i,u,e,P):x(i,u,e,P)}}function x(i,r,u,E){u||Z(i,r),r.pendingcb--,E(),B(i,r)}function Z(i,r){r.length===0&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))}function F(i,r){r.bufferProcessing=!0;var u=r.bufferedRequest;if(i._writev&&u&&u.next){var E=r.bufferedRequestCount,P=new Array(E),e=r.corkedRequestsFree;e.entry=u;for(var t=0,f=!0;u;)P[t]=u,u.isBuf||(f=!1),u=u.next,t+=1;P.allBuffers=f,U(i,r,!0,r.length,P,"",e.finish),r.pendingcb++,r.lastBufferedRequest=null,e.next?(r.corkedRequestsFree=e.next,e.next=null):r.corkedRequestsFree=new M(r),r.bufferedRequestCount=0}else{for(;u;){var p=u.chunk,j=u.encoding,L=u.callback,C=r.objectMode?1:p.length;if(U(i,r,!1,C,p,j,L),u=u.next,r.bufferedRequestCount--,r.writing)break}u===null&&(r.lastBufferedRequest=null)}r.bufferedRequest=u,r.bufferProcessing=!1}N.prototype._write=function(i,r,u){u(new h("_write()"))},N.prototype._writev=null,N.prototype.end=function(i,r,u){var E=this._writableState;return typeof i=="function"?(u=i,i=null,r=null):typeof r=="function"&&(u=r,r=null),i!=null&&this.write(i,r),E.corked&&(E.corked=1,this.uncork()),E.ending||le(this,E,u),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function oe(i,r){i._final(function(u){r.pendingcb--,u&&T(i,u),r.prefinished=!0,i.emit("prefinish"),B(i,r)})}function te(i,r){!r.prefinished&&!r.finalCalled&&(typeof i._final=="function"&&!r.destroyed?(r.pendingcb++,r.finalCalled=!0,q.nextTick(oe,i,r)):(r.prefinished=!0,i.emit("prefinish")))}function B(i,r){var u=ee(r);if(u&&(te(i,r),r.pendingcb===0&&(r.finished=!0,i.emit("finish"),r.autoDestroy))){var E=i._readableState;(!E||E.autoDestroy&&E.endEmitted)&&i.destroy()}return u}function le(i,r,u){r.ending=!0,B(i,r),u&&(r.finished?q.nextTick(u):i.once("finish",u)),r.ended=!0,i.writable=!1}function ue(i,r,u){var E=i.entry;for(i.entry=null;E;){var P=E.callback;r.pendingcb--,P(u),E=E.next}r.corkedRequestsFree.next=i}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(r){!this._writableState||(this._writableState.destroyed=r)}}),N.prototype.destroy=n.destroy,N.prototype._undestroy=n.undestroy,N.prototype._destroy=function(i,r){r(i)},ye}var ve,ke;function X(){if(ke)return ve;ke=1;var M=Object.keys||function(d){var _=[];for(var g in d)_.push(g);return _};ve=b;var m=nt(),R=tt();z.exports(b,m);for(var O=M(R.prototype),A=0;A<O.length;A++){var s=O[A];b.prototype[s]||(b.prototype[s]=R.prototype[s])}function b(d){if(!(this instanceof b))return new b(d);m.call(this,d),R.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||q.nextTick(n,this)}function n(d){d.end()}return Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),ve}var we,We;function Xe(){if(We)return we;We=1;var M=Y().codes.ERR_STREAM_PREMATURE_CLOSE;function m(s){var b=!1;return function(){if(!b){b=!0;for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];s.apply(this,n)}}}function R(){}function O(s){return s.setHeader&&typeof s.abort=="function"}function A(s,b,a){if(typeof b=="function")return A(s,null,b);b||(b={}),a=m(a||R);var n=b.readable||b.readable!==!1&&s.readable,d=b.writable||b.writable!==!1&&s.writable,_=function(){s.writable||o()},g=s._writableState&&s._writableState.finished,o=function(){d=!1,g=!0,n||a.call(s)},h=s._readableState&&s._readableState.endEmitted,l=function(){n=!1,h=!0,d||a.call(s)},c=function(w){a.call(s,w)},v=function(){var w;if(n&&!h)return(!s._readableState||!s._readableState.ended)&&(w=new M),a.call(s,w);if(d&&!g)return(!s._writableState||!s._writableState.ended)&&(w=new M),a.call(s,w)},S=function(){s.req.on("finish",o)};return O(s)?(s.on("complete",o),s.on("abort",v),s.req?S():s.on("request",S)):d&&!s._writableState&&(s.on("end",_),s.on("close",_)),s.on("end",l),s.on("finish",o),b.error!==!1&&s.on("error",c),s.on("close",v),function(){s.removeListener("complete",o),s.removeListener("abort",v),s.removeListener("request",S),s.req&&s.req.removeListener("finish",o),s.removeListener("end",_),s.removeListener("close",_),s.removeListener("finish",o),s.removeListener("end",l),s.removeListener("error",c),s.removeListener("close",v)}}return we=A,we}var Re,xe;function rt(){if(xe)return Re;xe=1;var M;function m(S,y,w){return y in S?Object.defineProperty(S,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):S[y]=w,S}var R=Xe(),O=Symbol("lastResolve"),A=Symbol("lastReject"),s=Symbol("error"),b=Symbol("ended"),a=Symbol("lastPromise"),n=Symbol("handlePromise"),d=Symbol("stream");function _(S,y){return{value:S,done:y}}function g(S){var y=S[O];if(y!==null){var w=S[d].read();w!==null&&(S[a]=null,S[O]=null,S[A]=null,y(_(w,!1)))}}function o(S){q.nextTick(g,S)}function h(S,y){return function(w,T){S.then(function(){if(y[b]){w(_(void 0,!0));return}y[n](w,T)},T)}}var l=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((M={get stream(){return this[d]},next:function(){var y=this,w=this[s];if(w!==null)return Promise.reject(w);if(this[b])return Promise.resolve(_(void 0,!0));if(this[d].destroyed)return new Promise(function(W,N){q.nextTick(function(){y[s]?N(y[s]):W(_(void 0,!0))})});var T=this[a],I;if(T)I=new Promise(h(T,this));else{var k=this[d].read();if(k!==null)return Promise.resolve(_(k,!1));I=new Promise(this[n])}return this[a]=I,I}},m(M,Symbol.asyncIterator,function(){return this}),m(M,"return",function(){var y=this;return new Promise(function(w,T){y[d].destroy(null,function(I){if(I){T(I);return}w(_(void 0,!0))})})}),M),l),v=function(y){var w,T=Object.create(c,(w={},m(w,d,{value:y,writable:!0}),m(w,O,{value:null,writable:!0}),m(w,A,{value:null,writable:!0}),m(w,s,{value:null,writable:!0}),m(w,b,{value:y._readableState.endEmitted,writable:!0}),m(w,n,{value:function(k,W){var N=T[d].read();N?(T[a]=null,T[O]=null,T[A]=null,k(_(N,!1))):(T[O]=k,T[A]=W)},writable:!0}),w));return T[a]=null,R(y,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=T[A];k!==null&&(T[a]=null,T[O]=null,T[A]=null,k(I)),T[s]=I;return}var W=T[O];W!==null&&(T[a]=null,T[O]=null,T[A]=null,W(_(void 0,!0))),T[b]=!0}),y.on("readable",o.bind(null,T)),T};return Re=v,Re}var Ee,Be;function it(){return Be||(Be=1,Ee=function(){throw new Error("Readable.from is not available in the browser")}),Ee}var Se,Ue;function nt(){if(Ue)return Se;Ue=1,Se=D;var M;D.ReadableState=N,ie.EventEmitter;var m=function(t,f){return t.listeners(f).length},R=Ye(),O=Ae.Buffer,A=Ve.Uint8Array||function(){};function s(e){return O.from(e)}function b(e){return O.isBuffer(e)||e instanceof A}var a=ie,n;a&&a.debuglog?n=a.debuglog("stream"):n=function(){};var d=et(),_=Ke(),g=$e(),o=g.getHighWaterMark,h=Y().codes,l=h.ERR_INVALID_ARG_TYPE,c=h.ERR_STREAM_PUSH_AFTER_EOF,v=h.ERR_METHOD_NOT_IMPLEMENTED,S=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,w,T;z.exports(D,R);var I=_.errorOrDestroy,k=["error","close","destroy","pause","resume"];function W(e,t,f){if(typeof e.prependListener=="function")return e.prependListener(t,f);!e._events||!e._events[t]?e.on(t,f):Array.isArray(e._events[t])?e._events[t].unshift(f):e._events[t]=[f,e._events[t]]}function N(e,t,f){M=M||X(),e=e||{},typeof f!="boolean"&&(f=t instanceof M),this.objectMode=!!e.objectMode,f&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=o(this,e,"readableHighWaterMark",f),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(y||(y=De.StringDecoder),this.decoder=new y(e.encoding),this.encoding=e.encoding)}function D(e){if(M=M||X(),!(this instanceof D))return new D(e);var t=this instanceof M;this._readableState=new N(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),R.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}}),D.prototype.destroy=_.destroy,D.prototype._undestroy=_.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var f=this._readableState,p;return f.objectMode?p=!0:typeof e=="string"&&(t=t||f.defaultEncoding,t!==f.encoding&&(e=O.from(e,t),t=""),p=!0),J(this,e,t,!1,p)},D.prototype.unshift=function(e){return J(this,e,null,!0,!1)};function J(e,t,f,p,j){n("readableAddChunk",t);var L=e._readableState;if(t===null)L.reading=!1,fe(e,L);else{var C;if(j||(C=ne(L,t)),C)I(e,C);else if(L.objectMode||t&&t.length>0)if(typeof t!="string"&&!L.objectMode&&Object.getPrototypeOf(t)!==O.prototype&&(t=s(t)),p)L.endEmitted?I(e,new S):K(e,L,t,!0);else if(L.ended)I(e,new c);else{if(L.destroyed)return!1;L.reading=!1,L.decoder&&!f?(t=L.decoder.write(t),L.objectMode||t.length!==0?K(e,L,t,!1):F(e,L)):K(e,L,t,!1)}else p||(L.reading=!1,F(e,L))}return!L.ended&&(L.length<L.highWaterMark||L.length===0)}function K(e,t,f,p){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",f)):(t.length+=t.objectMode?1:f.length,p?t.buffer.unshift(f):t.buffer.push(f),t.needReadable&&x(e)),F(e,t)}function ne(e,t){var f;return!b(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(f=new l("chunk",["string","Buffer","Uint8Array"],t)),f}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(e){y||(y=De.StringDecoder);var t=new y(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var f=this._readableState.buffer.head,p="";f!==null;)p+=t.write(f.data),f=f.next;return this._readableState.buffer.clear(),p!==""&&this._readableState.buffer.push(p),this._readableState.length=p.length,this};var U=1073741824;function ae(e){return e>=U?e=U:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Q(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ae(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}D.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,f=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?u(this):x(this),null;if(e=Q(e,t),e===0&&t.ended)return t.length===0&&u(this),null;var p=t.needReadable;n("need readable",p),(t.length===0||t.length-e<t.highWaterMark)&&(p=!0,n("length less than watermark",p)),t.ended||t.reading?(p=!1,n("reading or ended",p)):p&&(n("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Q(f,t)));var j;return e>0?j=r(e,t):j=null,j===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),f!==e&&t.ended&&u(this)),j!==null&&this.emit("data",j),j};function fe(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var f=t.decoder.end();f&&f.length&&(t.buffer.push(f),t.length+=t.objectMode?1:f.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Z(e)))}}function x(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,q.nextTick(Z,e))}function Z(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,i(e)}function F(e,t){t.readingMore||(t.readingMore=!0,q.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var f=t.length;if(n("maybeReadMore read 0"),e.read(0),f===t.length)break}t.readingMore=!1}D.prototype._read=function(e){I(this,new v("_read()"))},D.prototype.pipe=function(e,t){var f=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e);break}p.pipesCount+=1,n("pipe count=%d opts=%j",p.pipesCount,t);var j=(!t||t.end!==!1)&&e!==q.stdout&&e!==q.stderr,L=j?H:$;p.endEmitted?q.nextTick(L):f.once("end",L),e.on("unpipe",C);function C(G,V){n("onunpipe"),G===f&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,ze())}function H(){n("onend"),e.end()}var re=oe(f);e.on("drain",re);var Oe=!1;function ze(){n("cleanup"),e.removeListener("close",de),e.removeListener("finish",he),e.removeListener("drain",re),e.removeListener("error",se),e.removeListener("unpipe",C),f.removeListener("end",H),f.removeListener("end",$),f.removeListener("data",Le),Oe=!0,p.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&re()}f.on("data",Le);function Le(G){n("ondata");var V=e.write(G);n("dest.write",V),V===!1&&((p.pipesCount===1&&p.pipes===e||p.pipesCount>1&&P(p.pipes,e)!==-1)&&!Oe&&(n("false write response, pause",p.awaitDrain),p.awaitDrain++),f.pause())}function se(G){n("onerror",G),$(),e.removeListener("error",se),m(e,"error")===0&&I(e,G)}W(e,"error",se);function de(){e.removeListener("finish",he),$()}e.once("close",de);function he(){n("onfinish"),e.removeListener("close",de),$()}e.once("finish",he);function $(){n("unpipe"),f.unpipe(e)}return e.emit("pipe",f),p.flowing||(n("pipe resume"),f.resume()),e};function oe(e){return function(){var f=e._readableState;n("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&m(e,"data")&&(f.flowing=!0,i(e))}}D.prototype.unpipe=function(e){var t=this._readableState,f={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,f),this);if(!e){var p=t.pipes,j=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var L=0;L<j;L++)p[L].emit("unpipe",this,{hasUnpiped:!1});return this}var C=P(t.pipes,e);return C===-1?this:(t.pipes.splice(C,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,f),this)},D.prototype.on=function(e,t){var f=R.prototype.on.call(this,e,t),p=this._readableState;return e==="data"?(p.readableListening=this.listenerCount("readable")>0,p.flowing!==!1&&this.resume()):e==="readable"&&!p.endEmitted&&!p.readableListening&&(p.readableListening=p.needReadable=!0,p.flowing=!1,p.emittedReadable=!1,n("on readable",p.length,p.reading),p.length?x(this):p.reading||q.nextTick(B,this)),f},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){var f=R.prototype.removeListener.call(this,e,t);return e==="readable"&&q.nextTick(te,this),f},D.prototype.removeAllListeners=function(e){var t=R.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&q.nextTick(te,this),t};function te(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){n("readable nexttick read 0"),e.read(0)}D.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,le(this,e)),e.paused=!1,this};function le(e,t){t.resumeScheduled||(t.resumeScheduled=!0,q.nextTick(ue,e,t))}function ue(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),i(e),t.flowing&&!t.reading&&e.read(0)}D.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&e.read()!==null;);}D.prototype.wrap=function(e){var t=this,f=this._readableState,p=!1;e.on("end",function(){if(n("wrapped end"),f.decoder&&!f.ended){var C=f.decoder.end();C&&C.length&&t.push(C)}t.push(null)}),e.on("data",function(C){if(n("wrapped data"),f.decoder&&(C=f.decoder.write(C)),!(f.objectMode&&C==null)&&!(!f.objectMode&&(!C||!C.length))){var H=t.push(C);H||(p=!0,e.pause())}});for(var j in e)this[j]===void 0&&typeof e[j]=="function"&&(this[j]=function(H){return function(){return e[H].apply(e,arguments)}}(j));for(var L=0;L<k.length;L++)e.on(k[L],this.emit.bind(this,k[L]));return this._read=function(C){n("wrapped _read",C),p&&(p=!1,e.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=rt()),w(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),D._fromList=r,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function r(e,t){if(t.length===0)return null;var f;return t.objectMode?f=t.buffer.shift():!e||e>=t.length?(t.decoder?f=t.buffer.join(""):t.buffer.length===1?f=t.buffer.first():f=t.buffer.concat(t.length),t.buffer.clear()):f=t.buffer.consume(e,t.decoder),f}function u(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,q.nextTick(E,t,e))}function E(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var f=t._writableState;(!f||f.autoDestroy&&f.finished)&&t.destroy()}}typeof Symbol=="function"&&(D.from=function(e,t){return T===void 0&&(T=it()),T(D,e,t)});function P(e,t){for(var f=0,p=e.length;f<p;f++)if(e[f]===t)return f;return-1}return Se}var me,Fe;function at(){if(Fe)return me;Fe=1,me=a;var M=Y().codes,m=M.ERR_METHOD_NOT_IMPLEMENTED,R=M.ERR_MULTIPLE_CALLBACK,O=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=M.ERR_TRANSFORM_WITH_LENGTH_0,s=X();z.exports(a,s);function b(_,g){var o=this._transformState;o.transforming=!1;var h=o.writecb;if(h===null)return this.emit("error",new R);o.writechunk=null,o.writecb=null,g!=null&&this.push(g),h(_);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function a(_){if(!(this instanceof a))return new a(_);s.call(this,_),this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",n)}function n(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,o){d(_,g,o)}):d(this,null,null)}a.prototype.push=function(_,g){return this._transformState.needTransform=!1,s.prototype.push.call(this,_,g)},a.prototype._transform=function(_,g,o){o(new m("_transform()"))},a.prototype._write=function(_,g,o){var h=this._transformState;if(h.writecb=o,h.writechunk=_,h.writeencoding=g,!h.transforming){var l=this._readableState;(h.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},a.prototype._read=function(_){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},a.prototype._destroy=function(_,g){s.prototype._destroy.call(this,_,function(o){g(o)})};function d(_,g,o){if(g)return _.emit("error",g);if(o!=null&&_.push(o),_._writableState.length)throw new A;if(_._transformState.transforming)throw new O;return _.push(null)}return me}var Te,He;function ht(){if(He)return Te;He=1,Te=m;var M=at();z.exports(m,M);function m(R){if(!(this instanceof m))return new m(R);M.call(this,R)}return m.prototype._transform=function(R,O,A){A(null,R)},Te}var Me,Ge;function ct(){if(Ge)return Me;Ge=1;var M;function m(o){var h=!1;return function(){h||(h=!0,o.apply(void 0,arguments))}}var R=Y().codes,O=R.ERR_MISSING_ARGS,A=R.ERR_STREAM_DESTROYED;function s(o){if(o)throw o}function b(o){return o.setHeader&&typeof o.abort=="function"}function a(o,h,l,c){c=m(c);var v=!1;o.on("close",function(){v=!0}),M===void 0&&(M=Xe()),M(o,{readable:h,writable:l},function(y){if(y)return c(y);v=!0,c()});var S=!1;return function(y){if(!v&&!S){if(S=!0,b(o))return o.abort();if(typeof o.destroy=="function")return o.destroy();c(y||new A("pipe"))}}}function n(o){o()}function d(o,h){return o.pipe(h)}function _(o){return!o.length||typeof o[o.length-1]!="function"?s:o.pop()}function g(){for(var o=arguments.length,h=new Array(o),l=0;l<o;l++)h[l]=arguments[l];var c=_(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new O("streams");var v,S=h.map(function(y,w){var T=w<h.length-1,I=w>0;return a(y,T,I,function(k){v||(v=k),k&&S.forEach(n),!T&&(S.forEach(n),c(v))})});return h.reduce(d)}return Me=g,Me}export{nt as a,tt as b,X as c,at as d,ht as e,Xe as f,ct as g,ie as r};
